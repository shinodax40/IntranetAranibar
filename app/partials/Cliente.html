<div class="panel panel-default" ng-init="init()" ng-show="{{!customInterLogin}}" id="divPedidoListado">
   <div class="panel-heading"> <h3 class="modal-title"><p style="color:#354d8f; font-weight: bold;">Listados de Clientes</p></h3></div>   
    
<div class="panel-body">

<div>  
    
<div>          
              <form name="prodSeleccion"  class="form-inline">
                  
                  
                   <div class="input-group">
                            <button class="btn btn-default  btn-lg" 
                                     data-toggle="modal"  
                                     ng-click="nuevoCliente()"
                                     data-target="#myModalNuevoCliente">
                            <span class="glyphicon glyphicon-plus">
                            </span> Nuevo
                            </button>   

                    </div>

                <div class="input-group">
                            <button class="btn btn-default btn-lg" 
                                    ng-click="refrescar()">
                            <span class="glyphicon glyphicon-refresh">
                            </span> Refrescar
                            </button>  
                    </div>             
                  
                    <!--    <div class="input-group">
                            <button class="btn btn-default  btn-lg" 
                                     ng-click="verClienteRojo()">
                            <span class="glyphicon glyphicon-plus">
                            </span> Clientes En Rojo (Almacen, Veterinaria, Mascoteros, Peluqueria)
                            </button>   

                    </div>-->

              </form>  
             <br>
             <hr/>
</div>


<div>
    
     <div class="form-group col-md-3">
        <label class="control-label" >Tipo Comprador:</label>
                                <select  
                                  name="mySelectVendedores" 
                                  class="form-control"
                                  id="mySelectVendedores"
                                  ng-options="option.name for option in tipoCliente.availableOptions track by option.id"        
                                  ng-model="tipoCliente.selectedOption">
                               <!-- <option  value="">-- Seleccione Tipo --</option>-->
                               </select>   
     </div>

    
     <div class="form-group col-md-3">
        <label class="control-label" >Responsable:</label>
                         <select  name="mySelectVendedores" 
                                  class="form-control"
                                  id="mySelectVendedores"
                                  ng-options="t.name +' '+ t.apellido for t in vendedores.availableOptions track by t.id"
                                  ng-model="vendedores.selectedOption">
                              <!--  <option  value="">-- Seleccione Vendedor --</option>-->
                               </select>   
     </div>

     <div class="form-group col-md-3">
        <label class="control-label" >Nombre:</label>
          <div class="input-group">
            <input id="nombClie" 
                                   ng-model="nombClie"
                                   class="form-control input-s">
                              <span class="input-group-btn">
                                <button class="btn btn-default  btn-s" 
                                        ng-click="buscarClientes()"
                                        type="button"> 
                                <span class="glyphicon glyphicon-search"></span></button>
                              </span>  
         </div>
    </div>




</div>    
    
</div>          

  
           

    
          
<div> 
    <hr/> 
         <div class="table-responsive">   
                 <div ng-show="loading">
                                      <i class="fa fa-refresh fa-spin fa-3x fa-fw"></i>
                 </div> 
               <table style="font-size:12px" 
                      class="table table-striped table table-bordered  " 
                      at-table at-paginated at-list="list" 
                      at-config="config" >
                  <thead>
                    <tr>
                      <th style="text-align: center">#</th>    
                      <th style="text-align: center">Id</th>
                      <th width="20%" style="text-align: center">Nombre</th>   
                      <th ng-show="{{!customInter}}" style="text-align: center">Giro</th>     
                      <th style="text-align: center">Direccion</th>       
                      <th style="text-align: center">Telefono</th>    
                      <th style="text-align: center">Tipo</th>                              
                      <th style="text-align: center">Vendedor</th>
                      <th style="text-align: center">Ultima Compra</th>
                     <!-- <th style="text-align: center">Compras Mes</th> -->
                      <th style="text-align: center">Compras</th> 						
                      <th style="text-align: center">Cant.Ped. Mes</th> 						
                      <th style="text-align: center">Cant.Ped. AÃ±o</th> 
                      <th  width="20%" style="text-align: center">Observacion</th>						
					  <th style="text-align: center">Estado</th>   
					  <th style="text-align: center">Credito</th>   
  					  <th style="text-align: center">Sector</th>   
                      
 					  <th></th>  						
                    </tr>
                  </thead>

                  <tbody>
                    <tr ng-repeat="(clieIndex, cli) in dgCliente">    
                       <td style="text-align: center">{{ $index + 1 }}</td>
                       <td>{{ cli.id_cliente }}</td>
                       <td>{{ cli.nombre }}</td>                            
                       <td ng-show="{{!customInter}}">{{ cli.giro }}</td>                                                    
                       <td>{{ cli.direccion }}
                        
                       
                           
                               <button class="btn"
                                       ng-show="{{ cli.cantidaddirecc > 1  }}"    
                                     data-toggle="modal"  
                                     ng-click="listarDirecciones(cli)"
                                     data-target="#myModalDirecciones">
                            <span class="glyphicon glyphicon-plus">
                            </span> direcciones
                            </button>   
                        
                        </td>    
                       <td>{{ cli.telefono }}</td>  
                       <td style="text-align: center">
                                            <span ng-switch on="interface">
                                             
                                              <img src='img/Mascotero.png'  
                                                   width="30" 
                                                   title="Mascotero"
                                                   height="30"
                                                   ng-show="{{(cli.tipo_comprador == 'Mascotero')}} ">
                                                
                                                <img src='img/Almacen.png'  
                                                     width="30" 
                                                     title="Almacen"
                                                     height="30"
                                                     ng-show="{{(cli.tipo_comprador == 'Almacen')}} ">
                   
                   
                                                <img src='img/Particular.png'  
                                                     width="30" 
                                                     title="Particular"
                                                     height="30" 
                                                     ng-show="{{ (cli.tipo_comprador == 'Particular')}} ">
                                                
                                                  <img src='img/Veterinaria.png'  
                                                       width="30" 
                                                       title="Veterinaria"
                                                       height="30" 
                                                       ng-show="{{ (cli.tipo_comprador == 'Veterinaria')}} ">
												
												 <img src='img/Agricola.png'  
                                                      width="30" 
                                                      title="Avicola"
                                                      height="30" 
                                                      ng-show="{{ (cli.tipo_comprador == 'Agricola')}} ">
                                                <img src='img/Peluqueria.png'  
                                                     width="30" 
                                                     title="Peluqueria"
                                                     height="30" 
                                                     ng-show="{{ (cli.tipo_comprador == 'Peluqueria')}} ">
                                                    <img src='img/Otro.png'  
                                                         width="30" 
                                                         title="Otro"
                                                         height="30" 
                                                         ng-show="{{ (cli.tipo_comprador == 'Otro')}} ">
                                                
                                            </span>
                           
                      </td> 
                       <td>{{ cli.nombCliente +' '+ cli.apeCliente }}</td>                            
                       <td style="text-align: center">
                                 <span ng-switch on="interface">
                                              <img src='img/verde.jpg'  
                                                   width="26" 
                                                   height="26"
                                                   ng-show="cli.verde">
                                              <img src='img/rojo.jpg'  
                                                   width="26" 
                                                   height="26" 
                                                   ng-show="cli.rojo ">
                                                <img src='img/amarillo.png'  
                                                   width="26" 
                                                   height="26" 
                                                   ng-show="cli.amarillo">
                           </span>
                           {{ cli.fecha | date: 'dd-MM-yyyy'}}
                      </td>                            
                       
					<!--	<td style="text-align: center"><font color="blue">$ {{ cli.mesVentAct  | number:0 }}</font></td>  -->

						<td style="text-align: center"><font color="red">$ {{ cli.saldoPendiente   | number:0 }}</font>
                        
                        
                            
                           <span ng-switch on="interface">
                                             
                                       <!--      
                               
                                       <button                               
                                       class="btn btn-xs" 
                                       ng-show="{{ cli.pedPendCobro != 0  }}"    
                                       ng-click="listarPedidoPendienteFact(cli)">    
                                       <img src='img/pendienFact.png'
                                                           width="20" 
                                                           height="20">
                                       </button> 
                            
                                       <button                               
                                       class="btn btn-xs" 
                                       ng-show="{{ cli.pedPendCobro == 0 && cli.pedPendCobroTotal > 0  }}"    
                                       ng-click="listarPedidoPendienteFact(cli)">    
                                        <span class="glyphicon glyphicon-list-alt"></span>
                                       </button> -->
                               
                                
                               
                               
                   
                                                
                         </span>    
                        
                        </td>  
						
						
						<td class="text-center" >{{ cli.cantPedidoMes }}</td>                            
                      
			
						
						
						
						
					    <td class="text-center" >{{ cli.cantPedidoAno }}</td> 
						
				        <td> 
						
						<select ng-change="selTipoObservacion(obsCLie, cli)"
								ng-model="obsCLie" 
								class="form-control" >
							 <option ng-selected="cli.id_observacion == '1'">Abastecido</option>
							 <option ng-selected="cli.id_observacion == '2'">No le ha ido muy bien</option>
							 <option ng-selected="cli.id_observacion == '3'">Lo llamo y no contesta</option>
							 <option ng-selected="cli.id_observacion == '4'">Voy y estÃ¡ cerrado</option>
							 <option ng-selected="cli.id_observacion == '5'">Vacaciones</option>
							 <option ng-selected="cli.id_observacion == '6'">Pendiente en visitar</option>
							 <option ng-selected="cli.id_observacion == '7'">Compro en otro lado</option>
							 <option ng-selected="cli.id_observacion == '8'">Llamar la proxima semana</option>
							 <option ng-selected="cli.id_observacion == '9'">Pendiente en llamar</option>
							 <option ng-selected="cli.id_observacion == '10'">Llamara cuando necesite</option>
						</select>
							
                                <textarea class="form-control" 
                                            rows="2" 
                                            ng-change="guardarObservacionCli(cli.observacion, cli)"
                                            ng-model="cli.observacion" 
                                            id="observacion" 
                                            name="observacion" >
                                </textarea>  
                            
						  {{cli.fecha_obs_mod | date: 'dd-MM-yyyy'}}
                            
                            
		  
						</td>	
						
						
                          <td style="text-align: center">
                            <span ng-switch on="interface">
                                              <img src='img/ON.png'  
                                                   width="26" 
                                                   height="26"
                                                   ng-show="{{ cli.activo == 1 }}">
                                              <img src='img/OFF.png'  
                                                   width="26" 
                                                   height="26" 
                                                   ng-show="{{ cli.activo == 0 }} ">
                           </span>
                         </td>  
                        
                
                        
                        
                    <td class="text-center" >{{ cli.credito }}</td>  
                        
                    <td style="text-align: center">
                            <span ng-switch on="interface">
                                              <img src='img/norte.jpg'  
                                                   width="66" 
                                                   height="66"
                                                   ng-show="{{ cli.id_sector == 1 }}">
                                              <img src='img/sur.jpg'  
                                                   width="66" 
                                                   height="66" 
                                                   ng-show="{{ cli.id_sector == 2 }} ">
                                              <img src='img/centro.png'  
                                                   width="66" 
                                                   height="66" 
                                                   ng-show="{{ cli.id_sector == 3 }} ">
                           </span>
                    </td> 
                        
                    <td  ng-show="{{!customInter}}"> 
                         <button                               
                               class="btn" 
                               data-toggle="modal"  
                               data-target="#myModalProd"
                               ng-click="listarProd(cli)">    
                        <span class="glyphicon glyphicon-list-alt"></span>
                        </button> 
                        <button                               
                               class="btn" 
                               data-toggle="modal"  
                               data-target="#myModalModificarCliente"
                               ng-click="clienteMod(cli)">    
                         <span class="glyphicon glyphicon-pencil"></span>
                        </button> 
                         <button                               
                               class="btn" 
                               data-toggle="modal"  
                               data-target="#myModalClienteGrafico"
                               ng-click="initGraficoActual(cli)">    
                        <span class="glyphicon glyphicon-signal"></span>
                        </button> 
                           <!--  ng-show="{{ cli.saldoPendiente > 0  }}"    -->
                                <button                               
                                       class="btn"                                   
                                       ng-click="listarPedidoPendienteFact(cli)">    
                                       <img src='img/pendienFact.png'
                                                           width="20" 
                                                           height="20">
                                       </button> 
                    </td>
					                      
	
					 
					     	
                    <td ng-show="{{customInter}}">
                              <button                               
                               class="btn" 
                               data-toggle="modal"  
                               data-target="#myModalProd"
                               ng-click="listarProd(cli)">    
                        <span class="glyphicon glyphicon-list-alt"></span>
                        </button> 
                      <!--  <button                               
                               class="btn" 
                               ng-show="{{cli.nombCliente == nombUsua}}"
                               data-toggle="modal"  
                               data-target="#myModalModificarCliente"
                               ng-click="clienteMod(cli)">    
                        <span class="glyphicon glyphicon-pencil"></span>
                        </button>  -->
                         <button                               
                               class="btn" 
                               data-toggle="modal"  
                               data-target="#myModalClienteGrafico"
                               ng-click="initGraficoActual(cli)">    
                        <span class="glyphicon glyphicon-signal"></span>
                        </button> 
                       
                    </td>
                    </tr>
                  </tbody>
                </table>
         </div>       
        
               
     <div class="modal-footer">               
             <button  class="btn btn-warning" 
                          ng-click="generarReporteClientes()">
             <span class="glyphicon glyphicon-list-alt"></span> Cliente PDF</button>         
     </div>  
    
    
    
</div>


       
<!--**************************LOGIN******************************** -->      

 <div class="modal fade miClaseModal" id="myModallogininicial"  >
    <div class="modal-dialog modal-sm">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">Login</h5>
        </div>
        <div class="modal-body">                     
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-user"></i></span>
                            <input id="usua" type="email" class="form-control input-sm" name="usua" value="" placeholder="Usuario">        
                        </div>
            
                        <div class="input-group">
                            <span class="input-group-addon"><i class="glyphicon glyphicon-lock"></i></span>
                            <input id="contra" type="password" class="form-control  input-sm" name="contra" value="" placeholder="ContraseÃ±a">                                        
                        </div>
        </div>
        <div class="modal-footer">
            <button class="btn btn-sm btn-warning btn-block" type="submit" ng-click="ingresarMenu()">Ingresar</button>  
        </div>
      </div>
    </div>
  </div>            
<!--********************************************************************** -->      
         
  <div class="modal fade" id="myModalModificarCliente" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h5 class="modal-title" id="myModalLabel">ID Cliente {{idCliente}}</h5>
                  </div>
                <div class="modal-body">
                    
                    
                <div class="row">
                  <div class="col-md-12">
                  <div class="row">
                      <div class="col-md-6">
                         <label class="control-label" for="inputSuccess1">Rut:</label>
                         <input ng-model="rutModificar" 
                                 type="text" 
                                 class="form-control" 
                                 id="rutModificar" 
                                 name="rutModificar"/>
                      </div>
                      <div class="col-md-6">
                          <label class="control-label" for="inputSuccess1">Nombre:</label>
                          <input ng-model="razonMod" 
                                 type="text" 
                                 class="form-control" 
                                 id="razonMod" 
                                 name="razonMod"/>  
                      </div>
                       <div class="col-md-6">
                          <label class="control-label" for="inputSuccess1">Direccion:</label>
                          <input ng-model="dirMod" 
                                 type="text" 
                                 class="form-control" 
                                 id="dirMod" 
                                 name="dirMod"/>  
                      </div>
                      
                      <div class="col-md-6">
                          <label class="control-label" for="inputSuccess1">Detalle Direccion:</label>
                          <input ng-model="dirModDeta" 
                                 type="text" 
                                 class="form-control" 
                                 id="dirModDeta" 
                                 name="dirModDeta"/>  
                      </div>
                      
                      <div class="col-md-6">
                          <label class="control-label" for="inputSuccess1">Ubicacion Geo:</label>
                          <input ng-model="dirUbiGeo" 
                                 type="text" 
                                 class="form-control" 
                                 id="dirUbiGeo" 
                                 name="dirUbiGeo"/>  
                      </div>
                      
                      <div class="col-md-6">
                          <label class="control-label" for="inputSuccess1">Telefono:</label>
                          <input ng-model="telMod" 
                                 type="text" 
                                 class="form-control" 
                                 id="telMod" 
                                 name="telMod"/>  
                      </div>
                      <div class="col-md-6" ng-if="custom">
                          <label class="control-label" for="inputSuccess1">Giro:</label>
                          <input ng-model="giroMod" 
                                 type="text" 
                                 class="form-control" 
                                 id="giroMod" 
                                 name="giroMod"/>  
                      </div>
                       <div class="col-md-6" ng-if="custom" >
                          <label class="control-label" for="inputSuccess1">Tipo:</label>
                              <select  name="mySelectVendedores" 
                                  class="form-control"
                                  id="mySelectVendedores"
                                  ng-options="t.name  for t in tipoCli.availableOptions track by t.id"
                                  ng-model="tipoCli.selectedOption">
                               </select>   
                      </div>
                    </div>
                  </div>
                </div>  
                    
                    
                    
                  <div class="row">
                  <div class="col-md-12">
                  <h4><small>Vendedor<hr></small></h4>

                     <div class="row">
                      <div class="col-md-6">
                          <label class="control-label" for="inputSuccess1">Responsable:</label>            
                                <select  name="mySelectVendedores" 
                                  class="form-control"
                                  id="mySelectVendedores"
                                  ng-options="t.name +' '+ t.apellido for t in vendedores.availableOptions track by t.id"
                                  ng-model="vendedores.selectedOption">
                                <option  value="">-- Seleccione Vendedor --</option>
                               </select>   
                      </div>
                   
                         
                      <div class="col-md-6">
                                  <label class="control-label" 
                                         for="inputSuccess1">Observacion:</label>
                                  <textarea class="form-control" 
                                            rows="3" 
                                            ng-model="observacion" 
                                            id="observacion" 
                                            name="observacion" >
                                 </textarea>  
                      </div>  
                         
                         
                         
                         
                               
                      </div>
                    </div>  
                  </div>         
                    
                    
                    
                                  
                 <div class="row">
                  <div class="col-md-12">
                  <h4><small>Activo<hr></small></h4>
                        <div class="btn-group" data-toggle="buttons">    
                              <label class="btn btn-warning btn-sm" 
                                     ng-class="{active: test.currentVal == '1'}" 
                                     ng-click="setTransactionDebit('1')">
                                <input type="radio" 
                                       ng-model="test.currentVal"  
                                       value="1"> ON
                              </label>
                              <label class="btn btn-warning btn-sm" 
                                     ng-class="{active: test.currentVal == '0'}" 
                                     ng-click="setTransactionDebit('0')">
                                <input type="radio" 
                                       ng-model="test.currentVal"  
                                       value="0"> OFF
                              </label>
                        </div>     
                  </div>
                </div> 
                    
                    
                  <div class="col-md-6">
                          <label class="control-label" for="inputSuccess1">Sector:</label>            
                                <select  name="mySelectSector" 
                                  class="form-control"
                                  id="mySelectSector"
                                  ng-options="t.name  for t in sectoresLists.availableOptions track by t.id"
                                  ng-model="sectoresLists.selectedOption">
                                <option  value="">-- Seleccione Sector --</option>
                               </select>   
                      </div>   
                    
                    
 

                </div> 

                <div class="modal-footer">
                    <button type="submit" class="btn btn-warning" ng-click="guardarCliente('Modificar')">Guardar
                    <span class="glyphicon glyphicon-floppy-disk"></span></button>
                    <button type="button" class="btn btn-warning" data-dismiss="modal">
                    <span class="glyphicon glyphicon-chevron-left"></span>Salir
                    </button>
                </div>
                </div>
        </div>
</div>    
 
    
 <!--********************************************************************** -->      
         
  <div class="modal fade" id="myModalNuevoCliente" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h5 class="modal-title" id="myModalLabel">Nuevo Cliente</h5>
                  </div>
                <div class="modal-body">
                    
                       <div class="form-group row">
                         <label class="col-xs-2" for="inputSuccess1">Rut:</label>
                          <div class="col-xs-10">   
                             <input ng-model="rutModificar" 
                                     type="text" 
                                     class="form-control" 
                                     id="rutModificar" 
                                     name="rutModificar"/>
                         </div>
                      </div>
                    <div class="form-group row">
                          <label class="col-xs-2" for="inputSuccess1">Nombre:</label>
                          <div class="col-xs-10">   
                          <input ng-model="razonMod" 
                                 type="text" 
                                 class="form-control" 
                                 id="razonMod" 
                                 name="razonMod"/>  
                        </div>
                      </div>
                    <div class="form-group row">
                          <label class="col-xs-2" for="inputSuccess1">Direccion:</label>
                        <div class="col-xs-10">   
                          <input ng-model="dirMod" 
                                 type="text" 
                                 class="form-control" 
                                 id="dirMod" 
                                 name="dirMod"/>  
                             </div>    
                      </div>
                      <div class="form-group row">
                          <label class="col-xs-2" for="inputSuccess1">Detalle Direccion:</label>
                        <div class="col-xs-10">   
                          <input ng-model="dirModDeta" 
                                 type="text" 
                                 class="form-control" 
                                 id="dirModDeta" 
                                 name="dirModDeta"/>  
                             </div>    
                      </div>
                     <div class="form-group row">
                          <label class="col-xs-2" for="inputSuccess1">Ubicacion Geo:</label>
                        <div class="col-xs-10">   
                          <input ng-model="dirUbiGeo" 
                                 type="text" 
                                 class="form-control" 
                                 id="dirUbiGeo" 
                                 name="dirUbiGeo"/>  
                             </div>    
                      </div>
                     <div class="form-group row">
                       <label class="col-xs-2" for="inputSuccess1">Giro:</label>
                       <div class="col-xs-10">       
                          <input ng-model="giroMod" 
                                 type="text" 
                                 class="form-control" 
                                 id="giroMod" 
                                 name="giroMod"/>  
                    </div>
                    </div>
                    <div class="form-group row">
                          <label class="col-xs-2" for="inputSuccess1">Telefono:</label>
                       <div class="col-xs-10">   
                        <input ng-model="telMod" 
                                 type="text" 
                                 class="form-control" 
                                 id="telMod" 
                                 name="telMod"/>  
                      </div>
                    </div>
                    
                    <div class="form-group row">
                          <label class="col-xs-2" for="inputSuccess1">Tipo:</label>
                           <div class="col-xs-10">      
                             <select  name="mySelectVendedores" 
                                  class="form-control"
                                  id="mySelectVendedores"
                                  ng-options="t.name  for t in tipoCli.availableOptions track by t.id"
                                  ng-model="tipoCli.selectedOption">
                                 <option  value="">-- Seleccione Tipo --</option>
 
                               </select>   
                         </div>  
                   </div>
                   
                    
                    
                    <div class="form-group row">
                          <label class="col-xs-2" for="inputSuccess1">Responsable:</label>     
                           <div class="col-xs-10">      
                                <select  name="mySelectVendedores" 
                                  class="form-control"
                                  id="mySelectVendedores"
                                  ng-options="t.name +' '+ t.apellido for t in vendedores.availableOptions track by t.id"
                                  ng-model="vendedores.selectedOption">
                                <!--<option  value="">-- Seleccione Vendedor --</option>-->
                               </select>   
                           </div>
                    </div>
                    
           <div class="form-group row">
                          <label class="col-xs-2" for="inputSuccess1">Sector:</label>     
                           <div class="col-xs-10">      
                                <select  name="mySelectSectores" 
                                  class="form-control"
                                  id="mySelectSectores"
                                  ng-options="t.name  for t in sectoresLists.availableOptions track by t.id"
                                  ng-model="sectoresLists.selectedOption">
                                <!--<option  value="">-- Seleccione Vendedor --</option>-->
                               </select>   
                           </div>
                    </div>
                    
     
                </div> 

                <div class="modal-footer">
                    <button type="submit" class="btn btn-warning" ng-click="guardarCliente('Nuevo')">Guardar
                    <span class="glyphicon glyphicon-floppy-disk"></span></button>
                    <button type="button" class="btn btn-warning" data-dismiss="modal">
                    <span class="glyphicon glyphicon-chevron-left"></span>Salir
                    </button>
                </div>
                </div>
        </div>
</div>    
             

  <div class="modal fade" id="myModalDirecciones" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h5 class="modal-title" id="myModalLabel">Listado Direcciones</h5>
                  </div>
                <div class="modal-body">
                    
                            <table class="table table-striped table table-bordered "  
                       at-table at-paginated at-list="list" 
                       style="font-size:90%;"       
                       at-config="config">        
                         <thead>
                                    <tr>
                                      <th style="text-align: center">Direcciones</th>                        
                                      <th style="text-align: center">Sector</th>                        
                                      <th style="text-align: center">Principal</th>                                           

                                    </tr>
                         </thead>
                          <tbody>

                            <tr data-dismiss="modal" ng-repeat="prodDet in listDirecciones">  
                                
                                <td>{{ prodDet.direccion }}</td>
                                <td style="text-align: center">{{ prodDet.nombre_sector }}</td>
                                <td style="text-align: center">
                                
                                <img src='img/correcto.png'  
                                                   width="20" 
                                                   title="Particular"
                                                   height="20" 
                                                   ng-show="{{ (prodDet.principal == '1')}} ">
                                </td>
           
                                
                            </tr>
                          </tbody>
                        </table> 
     
                </div> 

                <div class="modal-footer">
                
                    <button type="button" class="btn btn-warning" data-dismiss="modal">
                    <span class="glyphicon glyphicon-chevron-left"></span>Salir
                    </button>
                </div>
                </div>
        </div>
</div>    
             
    
    
  <div class="modal fade" id="myModalProd" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h5 class="modal-title" id="myModalLabel">{{idClie}} - {{nombreClie}}</h5>
                  </div>
                <div class="modal-body">
                    <div class="row">
                      <div class="col-md-12">
                      <div class="row">
                          <div class="col-md-4">
                             <label class="control-label" for="inputSuccess1">Desde:</label>
                             <input type="date" class="form-control" placeholder="yyyy-MM-dd" id="desdeb" name="desdeb"/>            
                          </div>
                          <div class="col-md-4">
                              <label class="control-label" for="inputSuccess1">Hasta:</label>
                              <input type="date" class="form-control"  placeholder="yyyy-MM-dd"  id="hastab" name="hastab"/>
                          </div>
                            <div class="col-md-4">
                              <label class="control-label" for="inputSuccess1"> </label>
                                   <button type="submit" class="btn btn-warning form-control" ng-click="buscarListProd()">
                                       <span class="glyphicon glyphicon-list-alt"></span> Listar</button> 

                          </div>    
                        </div>                            
                      </div>        
                </div>  
                    
                    <br>                   
                    
                    <table class="table table-striped table table-bordered "  
                       at-table at-paginated at-list="list" 
                       style="font-size:90%;"       
                       at-config="config">        
                         <thead>
                                    <tr>
                                      <th style="text-align: center">#</th>                        
                                      <th>Nombres</th>
                                      <th style="text-align: center">Salidas</th>                        
                                    </tr>
                         </thead>
                          <tbody>

                            <tr data-dismiss="modal" ng-repeat="prodDet in listProdCli">   
                                <td style="text-align: center">{{ $index + 1 }}</td>                
                                <td>{{ prodDet.name }}</td>
                                <td style="text-align: center">{{ prodDet.total }}</td> 
                            </tr>
                          </tbody>
                        </table>  
     
                </div> 

                <div class="modal-footer">
                    <button type="button" class="btn btn-warning" data-dismiss="modal">
                    <span class="glyphicon glyphicon-chevron-left"></span>Salir
                    </button>
                </div>
                </div>
        </div>
</div>    
             
    
  <div class="modal fade" id="myModalProdPedidoPendientes" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h5 class="modal-title" id="myModalLabel">{{idClie}} - {{nombreClie}}</h5>
                  </div>
                <div class="modal-body">
                                      
                    
                    <table class="table table-striped table table-bordered "  
                       at-table at-paginated at-list="list" 
                       style="font-size:90%;"       
                       at-config="config">        
                         <thead>
                                    <tr>
                                      <th style="text-align: center">NÂ°Pedido</th>                        
                                      <th style="text-align: center">NÂ°Factura</th>                        
                                      <th style="text-align: center">F.Despacho</th>
                                      <th style="text-align: center">F.Cobro</th>  
                                      <th style="text-align: center">Estado</th>  
                                      <th style="text-align: center">Total</th>                        

                                    </tr>
                         </thead>
                          <tbody>

                            <tr data-dismiss="modal" ng-repeat="prodDet in listCliePedPend">   
                                <td style="text-align: center" 
                                    ng-class="{'coral' : (prodDet.difDia < 0)}">{{ prodDet.id }}</td>
                                <td style="text-align: center" 
                                    ng-class="{'coral' : (prodDet.difDia < 0)}">{{ prodDet.folio }}</td> 
                                
                                <td style="text-align: center" 
                                    ng-class="{'coral' : (prodDet.difDia < 0)}">{{ prodDet.fecha_entrega | date: 'dd-MM-yyyy' }}</td> 
                                <td style="text-align: center" 
                                    ng-class="{'coral' : (prodDet.difDia < 0)}">{{ prodDet.fecha_cobro | date: 'dd-MM-yyyy' }}</td>
                                <td style="text-align: center" 
                                    ng-class="{'coral' : (prodDet.difDia < 0)}">
                                 <span ng-switch on="interface">
                                                  
                                              <img src='img/entregado.png'
                                                   title="Pedido Entregado"
                                                   width="25" 
                                                   height="25"
                                                   ng-show="{{prodDet.estadoPedido == '1'}}">
                                              <img src='img/incompleto.png'
                                                   title="Con Observacion"
                                                   width="23" 
                                                   height="23" 
                                                   ng-show="{{ prodDet.estadoPedido == '2'}}">
                                             <img src='img/transporte.png'
                                                   title="En Despacho"
                                                   width="23" 
                                                   height="23" 
                                                   ng-show="{{ prodDet.estadoPedido == '4'}}">                                                
                                             <img src='img/bodega.png'
                                                   title="En Bodega"
                                                   width="23" 
                                                   height="23" 
                                                   ng-show="{{ prodDet.estadoPedido == '5'}}">  
                                                   <img src='img/rechazadoPedido.png'
                                                   title="Rechazado"
                                                   width="23" 
                                                   height="23" 
                                                   ng-show="{{ prodDet.estadoPedido == '6'}}">  
                                            </span>    
                                
                                
                                
                                </td>
                                <td ng-class="{'coral' : (prodDet.difDia < 0)}">$ {{ prodDet.totalPedido | number:0}}</td> 
                                
                            </tr>
                          </tbody>
                        </table>  
     
                </div> 

                <div class="modal-footer">
                    <button type="button" class="btn btn-warning" data-dismiss="modal">
                    <span class="glyphicon glyphicon-chevron-left"></span>Salir
                    </button>
                </div>
                </div>
        </div>
</div>    
             
    
<div class="modal content" id="myModalClienteGrafico" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
             <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h5 class="modal-title" id="myModalLabel">{{idClie}} - {{nombreClie}}</h5>
                  </div>
                <div class="modal-body">
                  <div id="graficoAdmin">                  
                     <div id="pieChartContent"> 
                        <canvas id="pieChart" width="300" height="300"></canvas> 
                    </div>      
                  </div> 
 
                <div class="modal-footer">
                    <button type="button" class="btn btn-warning" data-dismiss="modal">
                    <span class="glyphicon glyphicon-chevron-left"></span>Salir
                    </button>
                </div>
                </div>
             </div>
        </div>             
</div>    
    
    


</div>   
    
</div>   
       
<div class="panel panel-default" id="divPedido">
    

      <div class="modal-header">
                    <h5 class="modal-title" id="myModalLabel">Clientes en estado ROJO</h5>
      </div>
    
    
      <div class="modal-body">  
                  
        <table class="table table-striped table table-bordered table-hover " 
               style="font-size:11px"  
               at-table at-paginated at-list="list" 
               at-config="config">              
             <thead>
                        <tr>   
                          <th  style="text-align: center">#</th> 							
                          <th>Rut</th>
                          <th>Nombre</th>
                          <th>Contacto</th>  
                          <th>Ultima Compra</th>         
                          <th>Accion Realizada</th>    
                          <th>Accion Cliente</th>                      
                          <th>Resultado</th>
                          <th>Notas / Observaciones</th>
                          <th>Informacion de Accion</th>
                         </tr>
            </thead>
              <tbody>
                <tr data-dismiss="modal" 
                    ng-repeat="(productIndex, prodDet) in clientsRojo">     
                    <td style="text-align: center">{{ $index + 1 }}</td> 
                    <td>{{ prodDet.rut }}</td>    
                    <td>{{ prodDet.nombre }}</td>    
                    <td>{{ prodDet.telefono }}</td>  
                        <td>{{ prodDet.fecha | date: 'dd-MM-yyyy' }}</td>    
                
                    <td>	
                         <select ng-change=""
								ng-model="obsCLieUsuario" 
								class="form-control" >
							 <option ng-selected="cli.id_observacion == '1'">Llamo</option>
							 <option ng-selected="cli.id_observacion == '2'">Envio Correo</option>
							 <option ng-selected="cli.id_observacion == '3'">Voy Visitar</option>							 
						</select>
				     </td> 
                      
                    
                         <td>	
                       <select ng-change=""
								ng-model="obsCLieCliente" 
								class="form-control" >
							 <option ng-selected="cli.id_observacion == '1'">Abastecido</option>
							 <option ng-selected="cli.id_observacion == '2'">No le ha ido muy bien</option>
							 <option ng-selected="cli.id_observacion == '3'">No contesta</option>
							 <option ng-selected="cli.id_observacion == '4'">EstÃ¡ cerrado</option>
							 <option ng-selected="cli.id_observacion == '7'">Compro en otro lado</option>
							 <option ng-selected="cli.id_observacion == '8'">Me dice que llame la proxima semana</option>
							 <option ng-selected="cli.id_observacion == '10'">Llamara cuando necesite</option>
							 <option ng-selected="cli.id_observacion == '10'">No tengo producto solicitado</option>
 							 <option ng-selected="cli.id_observacion == '10'">Tome el Pedido</option>
                            
						</select>
				     </td> 
                    
                                        <td>{{ prodDet.id_prod }}</td>    
                      <td>	<select ng-change=""
								ng-model="obsCLie" 
								class="form-control" >
							 <option ng-selected="cli.id_observacion == '1'">POSITIVO</option>
							 <option ng-selected="cli.id_observacion == '2'">NEGATIVO</option>
							 <option ng-selected="cli.id_observacion == '3'">PENDIENTE</option>
						</select>
				     </td> 

                    
                       <td> 
						
							
                                <textarea class="form-control" 
                                            rows="2" 
                                            ng-change="guardarObservacionCli(cli.observacion, cli)"
                                            ng-model="cli.observacion" 
                                            id="observacion" 
                                            name="observacion" >
                                </textarea>  
                            
                            
                            
		  
						</td>
                    
                      <td>	<select ng-change=""
								ng-model="obsCLie" 
								class="form-control" >
							 <option ng-selected="cli.id_observacion == '1'">POSITIVO</option>
							 <option ng-selected="cli.id_observacion == '2'">NEGATIVO</option>
							 <option ng-selected="cli.id_observacion == '3'">PENDIENTE</option>
						</select>
				     </td> 
                                

                </tr>
              </tbody>
        </table> 
        <div ng-hide="detPedido.length !=0">Cargando...</div> 
         <hr>
           

        </div> 
        
       
            <div class="modal-footer">
          

            <button type="button" class="btn btn-warning" ng-click="verDetallePedidoSalir()">
            <span class="glyphicon glyphicon-chevron-left"></span>Salir
            </button>



        </div>
    
    
</div>  

<div class="panel panel-default" id="divPedidoCliente">
    
    
    <div class="panel-heading"> 
        <h3 class="modal-title"><p style="color:#354d8f; font-weight: bold;">ID CLIENTE: {{idClie}} - NOMBRE CLIENTE: {{nombreClie}} - CREDITO: {{credito}}</p></h3>
    </div>      
    
    
        
<div class="modal-body"> 
    
          <div class="col-md-6">
                          <label class="control-label" for="inputSuccess1">Limite de Compras Neta:</label>
                          <input ng-model="limtCompraNet" 
                                 type="text" 
                                 class="form-control" 
                                 id="limtCompraNet" 
                                 name="limtCompraNet"/>  
                      </div>
    <div class="col-md-6" >
                          <label class="control-label" for="inputSuccess1">Compras Netas Realizadas:</label>
                          <input ng-model="compNetReal" 
                                 type="text" 
                                 class="form-control" 
                                 id="compNetReal" 
                                 name="compNetReal"/>  
     </div>      
          
          
          
           <div class="col-md-6">
                          <label class="control-label" for="inputSuccess1">Activo Sin Limite De Compras:</label>
                         	 <div class="btn-group" data-toggle="buttons">    
											  <label class="btn btn-success btn-sm" 
													 ng-class="{active: limitado_act == '1'}" 
													 ng-click="confirmarSinLimite('1')">
												<input type="radio" 
													   ng-model="limitado_act"  
													   value="1"> CON LIMITE COMPRA
											  </label>
											  <label class="btn btn-success btn-sm" 
													 ng-class="{active: limitado_act == '0'}" 
													 ng-click="confirmarSinLimite('0')">
												<input type="radio" 
													   ng-model="limitado_act"  
													   value="0"> SIN LIMITE COMPRA
											  </label>
						 </div>
                      </div>
    <div class="col-md-6">
                          <label class="control-label" for="inputSuccess1">Bloqueo Por Cobranza:</label>
                         		   <div class="btn-group" data-toggle="buttons">    
											  <label class="btn btn-success btn-sm" 
													 ng-class="{active: cobranza_act == '1'}" 
													 ng-click="confirmarBloqueoCobra('1')">
												<input type="radio" 
													   ng-model="cobranza_act"  
													   value="1"> BLOQUEADO
											  </label>
											  <label class="btn btn-success btn-sm" 
													 ng-class="{active: cobranza_act == '0'}" 
													 ng-click="confirmarBloqueoCobra('0')">
												<input type="radio" 
													   ng-model="cobranza_act"  
													   value="0"> NO BLOQUEADO
											  </label>
						 </div>
     </div>           
          
          
       <div class="col-md-12">
                          <label class="control-label" for="inputSuccess1">Observacion Cobranza:</label>
            <textarea class="form-control" rows="20" ng-model="obserCobra" id="obserCobra" name="obserCobra" ></textarea>    
                         		  
     </div>  
    
    
          </div>

       <div class="modal-footer">
          
    <button type="button" class="btn btn-warning" ng-click="verDetallePedidoSalir(); guardarDetalleCobranza()">
            <span class="glyphicon glyphicon-chevron-left"></span>Guardar Condiciones Cobranza
            </button>





        </div>
    
    
    
    
    
    
    
    
    
    

    
    
    
        <div class="panel-heading"> 
        <h4 class="modal-title"><p style="color:#354d8f; font-weight: bold;">Listados Pedidos Realizados:</p></h3>
    </div> 
    
    
    
    
    
<div class="modal-body">
          
          
      
          
    


   <div class="form-group" style="text-align: left">
               <div class="btn-group" 
                       role="group">
                         <button class="btn btn-success" 
                                ng-click="selTipoComprador('Pendientes'); " 
                                ng-class="{active:tipoBusqueda == '1'}"><strong>Pendientes</strong></button>
                        <button class="btn btn-success" 
                                ng-click="selTipoComprador('Pagados')" 
                                ng-class="{'active':tipoBusqueda == '2'}"><strong>Pagados</strong></button>             
                      </div>
   <div class="form-group" ng-show="customFi">
  
    <div class="form-group col-xs-6 col-md-2 row">
      <label class="control-label" for="inputSuccess1">Entrega Desde:</label>
      <input type="date" 
             class="form-control" 
             placeholder="yyyy-MM-dd" 
             id="fIngreso" 
             name="fIngreso" />
    </div>
     
    <div class="form-group col-xs-6  col-md-2 row">
        <label class="control-label" for="inputSuccess1">Entrega Hasta:</label>
         <input type="date" 
                class="form-control"  
                placeholder="yyyy-MM-dd" 
                id="fIngresoHasta" 
                name="fIngresoHasta"/>
    </div>
      <button type="submit" 
                class="btn btn-warning" 
                ng-click="listarCrobroFiltro()">
            <span class="glyphicon glyphicon-search"></span> Buscar</button> 
                   
  </div>

          </div>   
          
     
              <table class="table table-striped table table-bordered "  
                       at-table at-paginated at-list="list" 
                       style="font-size:90%;"       
                       at-config="config">
                  
                  
                         <thead>
                                    <tr>
                                      <th style="text-align: center">NÂ°Pedido</th>                        
                                      <th style="text-align: center">NÂ°Factura</th>      
                                      <th style="text-align: center">F.Despacho</th>
                                      <th style="text-align: center">F.Cobro</th>  
                                      <th style="text-align: center">Estado Entrega</th>  
                                      <th style="text-align: center">Estado Cobro</th>      
                                      <th style="text-align: center">Obs.Venta </th> 
                                      <th style="text-align: center">Obs.Transp.</th>      
                                      <th style="text-align: center">Total con/iva</th>                        
                                      <th style="text-align: center"></th>                        

                                    </tr>
                         </thead>
                          <tbody>

                            <tr data-dismiss="modal" ng-repeat="prodDet in listCliePedPend">   
                                <td style="text-align: center" 
                                    ng-class="{'coral' : (prodDet.difDia < 0)}">{{ prodDet.id }}</td>
                                <td style="text-align: center" 
                                    ng-class="{'coral' : (prodDet.difDia < 0)}">{{ prodDet.folio }}</td> 
                                
                      
                                
                                
                                <td style="text-align: center" 
                                    ng-class="{'coral' : (prodDet.difDia < 0)}">{{ prodDet.fecha_entrega | date: 'dd-MM-yyyy' }}</td> 
                                <td style="text-align: center" 
                                    ng-class="{'coral' : (prodDet.difDia < 0)}">{{ prodDet.fecha_cobro | date: 'dd-MM-yyyy' }}</td>
                                <td style="text-align: center" 
                                    ng-class="{'coral' : (prodDet.difDia < 0)}">
                                 <span ng-switch on="interface">
                                                  
                                              <img src='img/entregado.png'
                                                   title="Pedido Entregado"
                                                   width="25" 
                                                   height="25"
                                                   ng-show="{{prodDet.estadoPedido == '1'}}">
                                              <img src='img/incompleto.png'
                                                   title="Con Observacion"
                                                   width="23" 
                                                   height="23" 
                                                   ng-show="{{ prodDet.estadoPedido == '2'}}">
                                             <img src='img/transporte.png'
                                                   title="En Despacho"
                                                   width="23" 
                                                   height="23" 
                                                   ng-show="{{ prodDet.estadoPedido == '4'}}">                                                
                                             <img src='img/bodega.png'
                                                   title="En Bodega"
                                                   width="23" 
                                                   height="23" 
                                                   ng-show="{{ prodDet.estadoPedido == '5'}}">  
                                                   <img src='img/rechazadoPedido.png'
                                                   title="Rechazado"
                                                   width="23" 
                                                   height="23" 
                                                   ng-show="{{ prodDet.estadoPedido == '6'}}">  
                                            </span>    
                                
                                
                                
                                </td>
                                
                                              <td style="text-align: center" 
                                                  ng-class="{'coral' : (prodDet.difDia < 0)}">                           
                                             <span ng-switch on="interface">
                                                 
                                                          <img src='img/cheque.png'  
                                               width="21" 
                                               title="Documento"
                                               height="21"
                                               ng-show="{{(prodDet.estado_cobranza == '3' ||  prodDet.estado_cobranza == '2')}} ">
                                                      
                                          <img src='img/transferencia.png'  
                                                   width="21" 
                                                   title="Transferencia"
                                                   height="21" 
                                                  ng-show="{{ prodDet.estado_cobranza == '6' }} ">
                                          <img src='img/efectivoPlata.png'  
                                                   width="21" 
                                                   title="Efectivo"
                                                   height="21"
                                                   ng-show="{{(prodDet.estado_cobranza == '1')}} ">  
                                                 
                                            <img src='img/transBank.png'  
                                                   width="21" 
                                                   title="Debito"
                                                   height="21" 
                                                   ng-show="{{ prodDet.estado_cobranza == '5'}}">         
                                                 
                                               <button  class="btn btn-default" 
                                                           ng-show="{{customBottonFinanzas && prodDet.recibos != null && prodDet.estado_cobranza == '4'}}" 
                                                           ng-click="cargarPedidoCobro(prodDet)"
                                                           type="button"> 
                                                      
                                    
                                                          <img src='img/pendienFact.png'  
                                                           width="21" 
                                                           title="Pendiente Pago"
                                                           height="21"
                                                           ng-show="{{(prodDet.estado_cobranza == '4')}} "> 
                                                 </button>
                             
                                            </span>
                                          </td>   
                                
                               <td ng-class="{'coral' : (prodDet.difDia < 0)}">{{ prodDet.observacion  }}</td>
                               <td ng-class="{'coral' : (prodDet.difDia < 0)}">{{ prodDet.obser_transp  }}</td>
                                <td ng-class="{'coral' : (prodDet.difDia < 0)}">$ {{ prodDet.totalPedido | number:0}}</td> 
                                <td>
                                             <button  class="btn btn" 
                                                      data-toggle="modal"  
                                                      data-target="#myModalVerPedido"  
                                                      ng-click="cargarPedido(prodDet)">    
                                             <span class="glyphicon glyphicon-zoom-in "></span>
                                             </button>
                                    
                                                <button  class="btn btn-success" 
                                                      data-toggle="modal"
                                                      ng-show="{{ (prodDet.recibos != null) }}"    
                                                      data-target="#myModalVerPedidoRecibos"  
                                                      ng-click="cargarDetalleRecibo(prodDet)">    
                                             <span class="glyphicon glyphicon-list-alt"><strong> NÂ° Talonario {{prodDet.idRecibos}} || NÂ° Recibo {{prodDet.idRecibosApli}}  ({{ prodDet.fecha_recibo | date: 'dd-MM-yyyy'}}) </strong></span>
                                             </button>
                                </td>
                                
                            </tr>
                          </tbody>
                      <div ng-show="loading">
                                      <i class="fa fa-refresh fa-spin fa-3x fa-fw"></i>
    
                 </div> 
                  
            </table>  
 

        </div> 
        
       
        <div class="modal-footer">

            <button type="button" class="btn btn-warning" ng-click="verDetallePedidoSalir()">
            <span class="glyphicon glyphicon-chevron-left"></span>Salir
            </button>



        </div>
    
<div class="modal fade miClaseModal" 
     id="myModalVerPedido" 
     tabindex="-1"
     role="dialog" 
     aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h5 class="modal-title" id="myModalLabel">Pedido NÂ° {{idPedido}}</h5>
      </div>
<div class="modal-body">

    
<div class="child"><h5>Total de {{detPedido.length}} productos.</h5></div>
    
<table class="table table-striped table table-bordered " 
       style="font-size:10px"  
       at-table at-paginated at-list="list" 
       at-config="config">     
   
              
         <thead>
                    <tr>
                       <th>Id</th>
                      <th>Nombre</th>  
                      <th>Cantidad</th> 
                      <th>Precio Venta</th>  
                      <th>Total</th>
                    </tr>
         </thead>
          <tbody>
               
            <tr data-dismiss="modal" 
                ng-repeat="prodDet in detPedido">    
                <td   ng-class="{'Bisque' : (prodDet.prod_venta_act == '1') , 'Bisque2' : (prodDet.prod_venta_act == '2'), 'Bisque3' : (prodDet.prod_venta_act == '3'), 'Bisque4' : (prodDet.prod_venta_act == '4'), 'Bisque5' : (prodDet.prod_venta_act == '5'), 'Bisque6' : (prodDet.prod_venta_act == '6')}">{{   prodDet.id_prod }}</td>  
                <td  ng-class="{'Bisque' : (prodDet.prod_venta_act == '1') , 'Bisque2' : (prodDet.prod_venta_act == '2'), 'Bisque3' : (prodDet.prod_venta_act == '3'), 'Bisque4' : (prodDet.prod_venta_act == '4'), 'Bisque5' : (prodDet.prod_venta_act == '5'), 'Bisque6' : (prodDet.prod_venta_act == '6')}">{{   prodDet.nombreProd }}</td>               
                      <td ng-class="{'Bisque' : (prodDet.prod_venta_act == '1') , 'Bisque2' : (prodDet.prod_venta_act == '2'), 'Bisque3' : (prodDet.prod_venta_act == '3'), 'Bisque4' : (prodDet.prod_venta_act == '4'), 'Bisque5' : (prodDet.prod_venta_act == '5'), 'Bisque6' : (prodDet.prod_venta_act == '6')}">{{   prodDet.cantidad  }}</td> 
                <td ng-class="{'Bisque' : (prodDet.prod_venta_act == '1') , 'Bisque2' : (prodDet.prod_venta_act == '2'), 'Bisque3' : (prodDet.prod_venta_act == '3'), 'Bisque4' : (prodDet.prod_venta_act == '4'), 'Bisque5' : (prodDet.prod_venta_act == '5'), 'Bisque6' : (prodDet.prod_venta_act == '6')}">$ {{ prodDet.precio_vendido | number:0  }}</td>  
           
                <td ng-class="{'Bisque' : (prodDet.prod_venta_act == '1') , 'Bisque2' : (prodDet.prod_venta_act == '2'), 'Bisque3' : (prodDet.prod_venta_act == '3'), 'Bisque4' : (prodDet.prod_venta_act == '4'), 'Bisque5' : (prodDet.prod_venta_act == '5'), 'Bisque6' : (prodDet.prod_venta_act == '6')}">{{   prodDet.total | number:0 }}</td>   

            </tr>
          </tbody>
        </table>  
    
<div ng-hide="detPedido.length !=0">Cargando...</div>     
            <hr>
           <tr>
           <!--   <td>Total Cantidad: {{ getTotalPedidoCantidad() }}</td><br><br>-->
              <td>Neto: $ {{ getNeto() | number:0 }}</td><br>   
              <td>19% I.V.A.: $ {{ getIva() | number:0 }}</td> <br>            
              <td>Total: $ {{ getTotalPedido() | number:0 }}</td>          
              
           </tr>

      </div>
        
        
      <div class="modal-footer">
        <button type="button" class="btn btn-warning" data-dismiss="modal">
        <span class="glyphicon glyphicon-chevron-left"></span>Salir
        </button>
  </div>
    </div>
  </div>
</div>
    

    
    
<div class="modal fade miClaseModal" id="myModalVerPedidoRecibos" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    
    
    
  <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h5 class="modal-title" id="myModalLabel">Recibos -  {{nombreClie}}</h5>
      </div>
<div class="modal-body">
    
<table class="table table-striped table table-bordered " 
       style="font-size:14px" 
       at-table at-paginated at-list="list" 
       at-config="config">     
   
              
         <thead>
                    <tr>
                      <th style="text-align: center">NÂ°Recibo</th>
                      <th style="text-align: center">Adjunto</th>    
                      <th style="text-align: center">F.Cobro</th>  
                      <th style="text-align: center">F.Pago</th>  
    
                      <th style="text-align: center">Total</th> 
                      <th style="text-align: center">Abono</th>  
                      <th style="text-align: center">Saldo</th>
                      <th style="text-align: center">Cobrador</th>
                        
                    </tr>
         </thead>
          <tbody>
               
            <tr data-dismiss="modal" ng-repeat="prodDet in detPedidosRecibo">    
                <td style="text-align: center">{{   prodDet.id }}</td>  
                <td style="text-align: center">
                    <img  ng-src="{{prodDet.foto}}"
                               onerror="this.src='https://aranibar.cl/barrosaranas/Table/img/sinImagen.png';"
                              class='eye'
                              width="100"   
                              height="100">
                    
            
                
                </td>
                <td style="text-align: center">{{   prodDet.fecha_cobro | date: 'dd-MM-yyyy'}}</td>
                                <td style="text-align: center">{{   prodDet.nombCobro }}</td>  

                <td style="text-align: center">{{   prodDet.total_recibo  | number:0}}</td>
                <td style="text-align: center">{{   prodDet.abono_recibo | number:0}}</td>
                <td style="text-align: center">{{   prodDet.saldo | number:0 }}</td>
                <td style="text-align: center">{{   prodDet.nombUsuario }}</td>  

            </tr>
          </tbody>
        </table> 
     <label class="control-label" >Observacion:</label>
               <textarea class="form-control" 
                               rows="3" 
                               ng-model="observacionRecibo" 
                               id="observacionRecibo" 
                               name="observacionRecibo"
                               disabled></textarea>   

</div>
        
        
      <div class="modal-footer">
        <button type="button" class="btn btn-warning" data-dismiss="modal">
        <span class="glyphicon glyphicon-chevron-left"></span>Salir
        </button>
  </div>
    </div>
  </div>
</div>  
    
   
    
   
<div class="modal fade miClaseModal" id="myModalCobro" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h5 class="modal-title" id="myModalLabel">Pedido NÂ° {{idPedido}}</h5>
                  </div>
                <div class="modal-body">
                <div class="row">
                  <div class="col-md-12">
                  <div class="row">
                      <div class="col-md-12">
                          <label class="control-label" for="inputSuccess1">Forma de Pago:</label>            
                          <select  name="mySelectTipoCobros" 
                                 class="form-control"
                                  id="mySelectTipoCobros"
                                  ng-options="option.name for option in estadoCobro.availableOptions track by option.id"
                                  ng-model="estadoCobro.selectedOption">
                          </select>  
                    
                      </div>               
                    </div>
                             <div class="row">
                      <div class="col-md-12">
                           <label class="control-label" for="inputSuccess1">Documento:</label>
                           <input ng-model="cod_documento" type="text" class="form-control" id="cod_documento" name="cod_documento"/>
                    </div>
             
                    </div>  
                  </div>
                </div>     
                           

                </div> 

                <div class="modal-footer">
                    <button type="submit" class="btn btn-warning" ng-click="modificarPedidoCobro()">Guardar
                    <span class="glyphicon glyphicon-floppy-disk"></span></button>
                    <button type="button" class="btn btn-warning" data-dismiss="modal">
                    <span class="glyphicon glyphicon-chevron-left"></span>Salir
                    </button>



                </div>
                </div>
        </div>
</div>     
    
 
</div>