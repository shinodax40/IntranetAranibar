<style>
.show {
  display: block !important;
}
.hide {
  display: none !important;
}
.badge-success {
  background-color: #5cb85c
}
.badge-danger {
  background-color: #d9534f
}
</style>
<div class="panel panel-default" ng-init="init()" ng-show="{{!customInterLogin}}" id="divPedidoListado">
    <div class="panel-heading">
     <h3 class="modal-title"><p style="color:#354d8f; font-weight: bold;">Listados de Ventas</p></h3>
    </div>
    
    
<div class="panel-body">   
    
<div ng-show="{{!customInter}}">          
              <form name="prodSeleccion"  class="form-inline">
                  
                    <div class="input-group">
                            <button class="btn btn-default btn-lg" 
                                    ng-click="isAnythingSelected()">
                            <span class="glyphicon glyphicon-list">
                            </span> Resumen Salidas
                            </button>  
                    </div>     
                  
                  
                  
                   <div class="input-group">
                            <button class="btn btn-default btn-lg" 
                                    ng-click="listarVentas(); buscarPedidoDatos()">
                            <span class="glyphicon glyphicon-refresh">
                            </span> Refrescar
                            </button>  
                    </div>     
                  
                    <!--div class="input-group"  ng-if="customCajaFin">
                            <button class="btn btn-default btn-lg"
                                    data-toggle="modal"  
                                    data-target="#myModalTotal"
                                    ng-click="listarVentas(); buscarPedidoDatos()">
                            <span class="glyphicon glyphicon-lock">
                            </span> Cierre Caja
                            </button>  
                    </div-->

                    <div class="input-group"  ng-if="customCajaFin">
                      <button class="btn btn-default btn-lg"
                              ng-click="mostrarCierreCaja()">
                      <span class="glyphicon glyphicon-lock">
                      </span> Cierre Caja
                      </button>  
              </div>
                  
                    <div class="input-group"   ng-if="customCajaInicio">
                            <button class="btn btn-default btn-lg"
                                    ng-click="confirmarInicioCaja()">
                            <span class="glyphicon glyphicon-open">
                            </span> Iniciar Caja
                            </button>  
                    </div>
                  
                  
              <div class="form-group">
                <div  id="nombDivPartEntrega">
                      
                    
                         <div class="btn-group" 
                       role="group">
                  <button class="btn btn-primary btn-lg" 
                                ng-click="selTipoComprador('Caja')" 
                                ng-class="{active:tipoBusqueda == '1'}">VENTAS CAJA</button>
                  <button class="btn btn-primary btn-lg
                                 " 
                                ng-click="selTipoComprador('Retiro')" 
                                ng-class="{'active':tipoBusqueda == '2'}">RETIROS EN TIENDA ( {{cantidadListar}} )</button>
                 
                  
                
                   
                      
                      </div>
                    
                   </div>
              </div> 
                  
              </form>  
             <br>
             <hr/>
</div>  

<div class="hide">    
    
    <div class="form-group col-xs-6 col-md-2 row">
      <label class="control-label" for="inputSuccess1">Desde:</label>
      <input disabled type="date" class="form-control" placeholder="yyyy-MM-dd" id="desdeb" name="desdeb" />
    </div>
     
    <div class="form-group col-xs-6  col-md-2 row">
        <label class="control-label" for="inputSuccess1">Hasta:</label>
         <input disabled type="date" class="form-control"  placeholder="yyyy-MM-dd" id="hastab" name="hastab"/>
    </div>


</div>
    
  <div class="input-group"   ng-if="customCajaValue">
  <h3>
  <span class="label label-default glyphicon glyphicon-open"> ID CAJA: {{id_caja}}</span>
  <span class="label label-primary glyphicon glyphicon-calendar"> FECHA INICIO: {{fecha_caja_inicio | date: 'dd-MM-yyyy'}}</span>
  <span class="label label-warning    glyphicon glyphicon-time"> HORA INICIO: {{hora_caja_inicio}}</span>
      
  </h3>
  </div> 
    

  <div class="input-group"   ng-if="customCajaValue2">
  <h3>
  <span class="label label-default glyphicon glyphicon-open"> ID CAJA: {{id_caja}}</span>
  <span class="label label-danger    glyphicon glyphicon-calendar"> FECHA FIN: {{fecha_caja_fin | date: 'dd-MM-yyyy'}}</span>
  <span class="label label-danger    glyphicon glyphicon-time"> HORA FIN: {{hora_caja_fin}}</span>
      
  </h3>
  </div>      
    
    
       <!-- <button class="btn btn-warning" ng-click="limpiar()">
        Limpiar <span class="glyphicon glyphicon-remove"></span>
        </button>-->

            
       <table class="table table-striped table table-bordered table-hover"
              ng-if="customVentaValue"
              style="font-size:15px" 
              at-table at-paginated at-list="list" 
              at-config="config">       
              
         <thead>
                    <tr>
                      <th  style="text-align: center">#</th>
                      <th  style="text-align: center">N°VENTA</th>
                                              <th class="text-center" COLSPAN="">
                                          <img src='img/logoSII.jpg' 
                                           title="SII"
                                           width="40" 
                                           height="20">
                                        </th> 
                      <th  style="text-align: center">Hora</th>
                      <th  style="text-align: center">Fecha</th>
                      <th  style="text-align: center">Vendedor</th>
                      <th  style="text-align: center">Pago con</th>                        
                      <th  style="text-align: center">Valor</th>
                      <th  style="text-align: center"></th>                                                
                    </tr>
         </thead>
          <tbody>
            <tr  ng-repeat="prod in listadoVentas">     
                <td style="text-align: center">{{ $index + 1 }}</td>    
               <!-- <td>{{ prod.id }}</td>  -->  
                
                <td style="text-align: center">{{ prod.id_pedido }}</td>    
                
               <td style="text-align: center">{{ prod.folio }}</td> 
                <td style="text-align: center">{{ prod.hora }}</td>                
                <td style="text-align: center">{{ prod.fecha | date: 'dd-MM-yyyy'}}</td>
                <td style="text-align: center">{{ prod.nombUsua + " "  + prod.apellUsua }}</td> 
                <td class="text-center" ng-class="{'coral' : (ped.entregaPed == '2')}">
                                            <span ng-switch on="interface">                                                      
                                                  <img src='img/transBank.png'  
                                                   width="40" 
                                                   title="Debito"
                                                   height="35" 
                                                   ng-show="{{ prod.estado_cobranza == '5'  && (prod.anulada != 'S')}} ">
                                                
                                              <img src='img/efectivoPlata.png'  
                                                   width="40" 
                                                  title="Efectivo"
                                                   height="35"
                                                   ng-show="{{(prod.estado_cobranza == '1') && (prod.anulada != 'S')}} ">
                                                
                                               <img src='img/transferencia.png'  
                                                   width="40" 
                                                   title="Transferencia"
                                                   height="35" 
                                                   ng-show="{{ prod.estado_cobranza == '6'  && (prod.anulada != 'S')}} ">    
                                                
                                            </span>
              </td>
                                      
             <td style="text-align: center">$ {{ prod.total | number:0 }}</td>                   
                <td>   
                   <span ng-switch on="interface">
                     <button          class="btn btn-primary" 
                                      data-toggle="modal"  
                                      data-target="#myModaDetalle"  
                                      ng-click="verDetalle(prod)">    
                             <span class="glyphicon glyphicon-zoom-in "></span>
                     </button>   
                        
                     <button  class="btn btn-warning" 
                             ng-if="tipUsuarioCaja"
                              ng-click="confirmarImprimirVenta(prod)">    
                         <span class="glyphicon glyphicon-print"></span>
                     </button>          
                           
                      <p style="color:#b72745; font-weight: bold;"
                          ng-show="{{prod.anulada == 'S' }}">VENTA ANULADA</p>     
                       <!--<button 
                        ng-if="customCajaFin"
                        ng-show="{{prod.anulada == 'N' }} "          
                        ng-click = "anularPedido2(prod)"
                        class="btn btn-danger">Anular
                         <span class="glyphicon glyphicon-erase"></span>
                       </button> -->
                       
                          <button 
                                    class="btn btn-warning" 
                                    ng-click="imprimirBolBodega(prod)">
                                    <span class="glyphicon glyphicon-print"></span>
                         </button> 
                       
                    </span>
                </td>
            </tr>
          </tbody>
        </table>  
    
    
        <table show-filter="true" 
                    ng-if="customRetiroValue"
                   id="dgPedidos" 
                   style="font-size:11px"  
                   cellspacing="0" 
                   class="table-hover table table-striped table table-bordered  display" 
                   at-table at-paginated 
                   at-list="list" 
                   at-config="config">
                <thead class="thead-inverse">
                                    <th class="text-center" COLSPAN="20"  style="font-size:18px">
                                            <span class="fa fa-cart-arrow-down" style="font-size:35px;color:blueviolet;"> RETIROS EN TIENDA</span></th> 

                                    <tr>
                                      <th class="text-center" COLSPAN="1"></th> 
                                      <th class="text-center" COLSPAN="1">#</th>    

                                      <th  class="text-center" COLSPAN="">
                                          <img src='img/logoSII.jpg' 
                                           title="SII"
                                           width="40" 
                                           height="20"></th>            
                                      <th class="text-center" COLSPAN="{{numeroColumna}}">Pedido</th>
                                      <th class="text-center" COLSPAN="5">Cliente</th>
                                      <th class="text-center" COLSPAN="1">Solicitante</th>
                                      <th class="text-center" COLSPAN="1"></th>        
                                    </tr>
                                    <tr>
                                      <th class="text-center">Log</th>     
                                      <th class="text-center" ng-show="{{ customSelCh }}">Sel</th>  
                                      <th class="text-center">N°Fol</th>
                                      <th class="text-center">N°Ped</th>
                                      <th></th>
                                      <th class="text-center">Fecha</th>
                                      <th class="text-center">Despacho</th>    
                                      <th class="text-center">Estado</th>
                                      <th class="text-center">Pago En</th>    
                                      <th class="text-center">Mensajes</th>    
                                    <!--  <th ng-show="{{customInter}}">Msj Adm.</th>  -->                                          
                                      <th class="text-center">Peso(Kg)</th>                                        										
                                     <!-- <th>Fecha Cobro</th>-->    
                                    <!--  <th>$</th>--> 
                                      <th class="text-center">Tipo</th>
                                     <!-- <th>Ruta</th>	--> 									
                                      <th class="text-center">Razon Social</th>
                                      <th class="text-center">Direccion</th>										
                                      <th class="text-center">Nombre</th>
                                      <th class="text-center">Acciones</th>    
                                    </tr>
                              </thead>  
                
               <!-- ped.entregaPed != '2' || -->
                         <tbody>
                                  <tr ng-repeat="ped in listPedidos"  
                                      ng-class="{selected: ped.isRowSelected}"
                                      ng-if="ped.entregaPed == '2' ">   
                                      <td class="text-center">
                                           <span ng-switch on="interface">                                                     
                                             <button ng-show="{{ped.countLog != 0}} " 
                                                     class="btn btn-xs" 
                                                     data-toggle="modal"  
                                                     data-target="#myModalPedidoLog"
                                                     ng-click="cargarPedidoCobro(ped)">                                                   
                                              <span class="glyphicon glyphicon-log-in"></span>
                                             </button>
                                           </span>
                                      </td>     
                                      
                                         <td class="text-center" 
                                              ng-class="{'coral' : (ped.entregaPed == '2')}" ng-show="{{ customSelCh }}">
                                                  <input ng-show="{{   ped.entregaPed != '2'  }}"  
                                                         type="checkbox" 
                                                         ng-disabled ="ped.id_informe > 0"
                                                         ng-model="ped.isRowSelected" 
                                                         ng-click="toggleSelection(ped)"/>
                                                  <span class="checkmark"></span>
                                         </td>
                                      
                                          <td ng-class="{'coral' : (ped.entregaPed == '2') }" class="text-center" >
                                              <p>
                                                  <a href ng-click="imprimirComprobante(ped)">{{ ped.folio }}  {{  ped.tipo_folio}} </a>
                                              
                                              </p>
                                          </td>    
                                      
                                          <td ng-class="{'coral' : (ped.entregaPed == '2')}">{{ ped.id_pedido }}</td>
                                      
                                          <td ng-class="{'coral' : (ped.entregaPed == '2')}">
                                            <span ng-switch on="interface">                            
                                                <img src='img/norte.jpg'  
                                                     width="30" 
                                                     height="30"
                                                     ng-show="{{ (ped.id_sector == '1') }} ">   
                                               <img src='img/sur.jpg'  
                                                   width="30" 
                                                   height="30"
                                                   ng-show="{{ (ped.id_sector == '2') }} ">    
                                                 <img src='img/centro.png'  
                                                   width="25" 
                                                   height="25"
                                                   ng-show="{{ (ped.id_sector == '3') }} "> 
                                            </span>
                                            <span ng-switch on="interface">                            
                                                <img src='img/manana.png'  
                                                     width="22" 
                                                     height="22"
                                                     ng-show="{{ (ped.jornada == '1') }} ">   
                                               <img src='img/tarde.png'  
                                                   width="20" 
                                                   height="20"
                                                   ng-show="{{ (ped.jornada == '2') }} ">    
                                            </span>
                                              <span ng-switch on="interface">                            
                                                <img src='img/camion1.png'  
                                                     width="22" 
                                                     height="22"
                                                     ng-show="{{ (ped.id_transp == '1') }} ">   
                                               <img src='img/camion2.png'  
                                                   width="22" 
                                                   height="22"
                                                   ng-show="{{ (ped.id_transp == '2') }} ">   
                                              <img src='img/camion3.png'  
                                                   width="22" 
                                                   height="22"
                                                   ng-show="{{ (ped.id_transp == '3') }} ">  
                                                  <img src='img/camion4.png'  
                                                   width="22" 
                                                   height="22"
                                                   ng-show="{{ (ped.id_transp == '4') }} ">   
                                            </span>
                                            <span ng-switch on="interface">                            
                                                <img src='img/tipFact.png'  
                                                     width="30" 
                                                     height="30"
                                                     ng-show="{{ (ped.id_tipo_ped == '1') }} ">   
                                               <img src='img/tipNota.png'  
                                                   width="30" 
                                                   height="30"
                                                   ng-show="{{ (ped.id_tipo_ped == '2') }} ">    
                                                <img src='img/tipBono.png'  
                                                   width="30" 
                                                   height="30"
                                                   ng-show="{{ (ped.id_tipo_ped == '3') }} ">    
                                                <img src='img/tipCamb.png'  
                                                   width="30" 
                                                   height="30"
                                                   ng-show="{{ (ped.id_tipo_ped == '4') }} ">    
                                            </span>
                                              {{ped.id_informe}}
                                          </td>
                                      
                                      
                                          <td ng-class="{'coral' : (ped.entregaPed == '2')}">{{ ped.fecha | date: 'dd-MM-yyyy' }} - {{ ped.hora }}</td>  
                                          <td ng-class="{'coral' : (ped.entregaPed == '2')}">{{ ped.fecha_entrega | date: 'dd-MM-yyyy' }}
       
                                          </td>                                        
                                           <td class="text-center" ng-class="{'coral' : (ped.entregaPed == '2')}">
                                             <span ng-switch on="interface">
                                               <img src='img/tienda.jpg' 
                                                   title="Tienda"
                                                   width="22" 
                                                   height="22"
                                                   ng-show="{{ped.tienda == '1' }}">          
                                              <img src='img/ico_cerrar.png' 
                                                   title="Anulado"
                                                   width="20" 
                                                   height="20"
                                                   ng-show="{{ped.anulada == 'S' }}">        
                                              <img src='img/entregado.png'
                                                   title="Pedido Entregado"
                                                   width="25" 
                                                   height="25"
                                                   ng-show="{{ped.estado_pedido == '1' && ped.anulada == 'N'}}">
                                              <img src='img/incompleto.png'
                                                   title="Con Observacion"
                                                   width="23" 
                                                   height="23" 
                                                   ng-show="{{ ped.estado_pedido == '2' && ped.anulada == 'N'}}">
                                             <img src='img/transporte.png'
                                                   title="En Despacho"
                                                   width="23" 
                                                   height="23" 
                                                   ng-show="{{ ped.estado_pedido == '4' && ped.anulada == 'N'}}">     
                                              <img src='img/pendienFact.png'
                                                   title="Pendiente"
                                                   width="25" 
                                                   height="25" 
                                                   ng-show="{{ ped.estado_pedido == '3' && ped.anulada == 'N' && ped.tienda != '1'}}"> 
                                             <img src='img/bodega.png'
                                                   title="En Bodega"
                                                   width="23" 
                                                   height="23" 
                                                   ng-show="{{ ped.estado_pedido == '5' && ped.anulada == 'N'}}">  
                                                   <img src='img/rechazadoPedido.png'
                                                   title="Rechazado"
                                                   width="23" 
                                                   height="23" 
                                                   ng-show="{{ ped.estado_pedido == '6' && ped.anulada == 'N'}}">  
                                            </span>    
                                              {{ ped.hora_transporte}}  
                                          </td> 
                                        
                                          <td class="text-center" ng-class="{'coral' : (ped.entregaPed == '2')}">
                                            <span ng-switch on="interface">
                                              <img src='img/cheque.png'  
                                                   width="21" 
                                                  title="{{ ped.nombre_cobro }}"
                                                   height="21"
                                                   ng-show="{{(ped.estado_cobranza == '3' ||  ped.estado_cobranza == '2') && (ped.anulada != 'S' && ped.tienda != '1')}} ">
                                                
                                                  <img src='img/transBank.png'  
                                                   width="21" 
                                                   title="{{ ped.nombre_cobro }}"
                                                   height="21" 
                                                   ng-show="{{ ped.estado_cobranza == '5'  && (ped.anulada != 'S' && ped.tienda != '1')}} ">
                                                
                                                
                                             <!--     <span class="fa fa-print" 
                                                 ng-show="ped.estado_cobranza == 5"
                                                 ng-click="imprimirComprobante(ped)"
                                                 style="font-size:20px;color:GREEN;"></span>-->
                                                
                                                
                                                   <img src='img/transferencia.png'  
                                                   width="21" 
                                                   title="{{ ped.nombre_cobro }}"
                                                   height="21" 
                                                   ng-show="{{ ped.estado_cobranza == '6'  && (ped.anulada != 'S' && ped.tienda != '1')}} ">
                                                
                                            <span class="fa fa-paperclip" 
                                                 ng-show="ped.estadoFotoTransf == 1"
                                                 data-toggle="modal"  
                                                 data-target="#myImageModal"
                                                 ng-click="mostrarImagenTransf(ped)"
                                                 style="font-size:25px;color:GREEN;"></span>
                                                
                                                
                                                	 
					
                                                
                                              <img src='img/efectivoPlata.png'  
                                                   width="21" 
                                                  title="{{ ped.nombre_cobro }}"
                                                   height="21"
                                                   ng-show="{{(ped.estado_cobranza == '1') && (ped.anulada != 'S' && ped.tienda != '1')}} ">
                   
                                                <img src='img/pendiente.png'  
                                                   width="21" 
                                                   title="{{ ped.nombre_cobro }}"
                                                   height="21" 
                                                   ng-show="{{ ped.estado_cobranza == '4'  && (ped.anulada != 'S' && ped.tienda != '1')}} ">
                                             
                                            </span>
                                              
                                               <button  class="btn btn-success" 
                                                      data-toggle="modal"
                                                      ng-show="{{ ped.id_recibo_bol > 0  }}"    
                                                      data-target="#myModalVerPedidoRecibos"  
                                                      ng-click="cargarDetalleRecibo(ped)">    
                                             <span class="glyphicon glyphicon-list-alt"></span>
                                             </button>
                                              
                                              
                                              
                                          </td>
                                      
                                      
                                      
                            
                                      
									  
                                      <!--<td ng-show="{{customInter}}">                                             
                                             <button 
                                                     ng-click="cargarObserv(ped)"   
                                                     class="btn btn-xs" 
                                                     ng-show="{{ped.observacion != ''}}"
                                                     data-toggle="modal"  
                                                     data-target="#myModalObserPedido">
                                             <span class="glyphicon glyphicon-comment"></span>
                                             </button> 
                                          </td>-->
                                         <td class="text-center" ng-class="{'coral' : (ped.entregaPed == '2')}">                                             
                                              <img src='img/msj1.png'  
											       ng-click="cargarObservVend(ped)"   
                                                   ng-show="{{ped.obser_vend != '' || ped.observacion != ''}}"
                                                   data-toggle="modal"  
   												   title="{{ped.obser_vend + ped.observacion }}"
                                                   data-target="#myModalObserPedido"
                                                   width="25" 
                                                   height="25">
											 
											      <img src='img/msj2.png'  
											       ng-click="cargarObservTransp(ped)"   
                                                   ng-show="{{ped.obser_transp != ''}}"
                                                   data-toggle="modal" 
												   title="{{ped.obser_transp }}"
                                                   data-target="#myModalObserPedido"
                                                   width="29" 
                                                   height="29">
											 
                                         </td> 
                                                                      
									  
						    <td class="text-center" ng-class="{'coral' : (ped.entregaPed == '2')}">{{ ped.pesos | number:0 }}</td>
									  
                                         <!--   <td ng-class="{'coral' : (ped.entregaPed == '2')}">
                                            <span ng-switch on="interface">
                                              <img src='img/relojArena.jpg'  
                                                   width="20" 
                                                   height="20"
                                                   ng-show="{{ (ped.fecha_cobro  == fechaActualSistema)  &&  (ped.anulada != 'S') && (ped.estado_cobranza != '1' && ped.estado_cobranza != '3' ) && (ped.fecha_entrega  != fechaActualSistema )}} ">    
                                                <img src='img/fechaPasado.png'  
                                                     width="22" 
                                                     height="22"
                                                     ng-show="{{ (ped.fecha_cobro  < fechaActualSistema && ped.estado_cobranza == '4') && (ped.anulada != 'S')}} ">   
                                               <img src='img/fechCobro.png'  
                                                   width="20" 
                                                   height="20"
                                                   ng-show="{{ (ped.fecha_entrega  == fechaActualSistema ) && (ped.fecha_cobro  == fechaActualSistema) && (ped.anulada != 'S')}} ">    
                                            </span>
                                              {{ ped.fecha_cobro | date: 'dd-MM-yyyy' }}</td>
                                      
                                         <!--  <td ng-class="{'coral' : (ped.entregaPed == '2')}">
                                             <span ng-switch on="interface">
                                               <img src='img/correcto.png' 
                                                   title="Tienda"
                                                   width="22" 
                                                   height="22"
                                                   ng-show="{{ped.cobrado_vend == '1' }}"> 
                                            </span>    
                                          </td> -->
                                      
                                           <td ng-class="{'coral' : (ped.entregaPed == '2')}">
                                            <span ng-switch on="interface">
                                              <img src='img/Inventario.png'  
                                                   width="21" 
                                                  title="Inventario"
                                                   height="21"
                                                   ng-show="{{(ped.nombre == 'Inventario')}} ">
                                                
                                                  <img src='img/Veterinaria.png'  
                                                   width="21" 
                                                  title="Veterinaria"
                                                   height="21"
                                                   ng-show="{{(ped.tipo_comprador == 'Veterinaria')}} ">    
                                                
                                              <img src='img/Mascotero.png'  
                                                   width="21" 
                                                  title="Mascotero"
                                                   height="21"
                                                   ng-show="{{(ped.tipo_comprador == 'Mascotero')}} ">
                                                
                                                <img src='img/Almacen.png'  
                                                   width="21" 
                                                  title="Alamacen"
                                                   height="21"
                                                   ng-show="{{(ped.tipo_comprador == 'Almacen')}} ">
												
												
												 <img src='img/Agricola.png'  
                                                   width="21" 
                                                  title="Avicola"
                                                   height="21"
                                                   ng-show="{{(ped.tipo_comprador == 'Avicola')}} ">
												
                                              <img src='img/Peluqueria.png'  
                                                   width="21" 
                                                  title="Peluqueria"
                                                   height="21"
                                                   ng-show="{{(ped.tipo_comprador == 'Peluqueria')}} ">
                                                
                                                 <img src='img/Otro.png'  
                                                   width="21" 
                                                  title="Otro"
                                                   height="21"
                                                   ng-show="{{(ped.tipo_comprador == 'Otro')}} ">
                                                
                                                
                                                <img src='img/Particular.png'  
                                                   width="21" 
                                                   title="Particular"
                                                   height="21" 
                                                   ng-show="{{ (ped.tipo_comprador == 'Particular' && ped.nombre != 'Inventario')}} ">
                                            </span>
                                          </td>
                                      
                                      
                                         <!--  <td class="text-center" ng-class="{'coral' : (ped.entregaPed == '2')}">{{ ped.orden_ruta }}</td>--> 
                                   
                                          <td ng-class="{'coral' : (ped.entregaPed == '2')}">
                                                   <button 
                                                     ng-show="{{!customInterModifPed}} "
                                                     class="btn" 
                                                     id="myModalProductoX"
                                                     data-toggle="modal"  
                                                     data-target="#myModalTransfImagen"
                                                     ng-click="verTransfAdj(ped)">            
                                                  <span class="fa fa-folder-open" 
                                                        style="font-size:19px;color:chocolate;"/> 
                                                 </button>  {{ ped.nombre }}
                                          </td>
                                          <td ng-class="{'coral' : (ped.entregaPed == '2')}">{{ ped.direccion }}</td>                                        
									  
									  
                                          <td ng-class="{'coral' : (ped.entregaPed == '2')}">{{ ped.usuario }}</td>     
                                          <td ng-show="{{customBotton}}" ng-class="{'coral' : (ped.entregaPed == '2')}">   
                                               <button ng-show="{{ped.anulada != 'S' && ped.tienda != '1'}} " 
                                                     class="btn  btn-primary" 
                                                     data-toggle="modal"  
                                                     data-target="#myModalCobroPedido"
                                                     ng-click="listarEstadosPedido(ped)">                                                     
                                              <span class="glyphicon glyphicon-object-align-top"></span>
                                             </button>
                                              
                                             <button ng-show="{{ped.anulada != 'S' && ped.tienda != '1' && ped.credito <= 1}} " 
                                                     class="btn  btn btn-dark" 
                                                     data-toggle="modal"  
                                                     data-target="#myModalCobro"
                                                     ng-click="cargarPedidoCobro(ped)">                                                     
                                              <span class="glyphicon glyphicon-usd"></span>
                                             </button> 
                                             <!--<button  class="btn btn-xs" 
                                                      data-toggle="modal"  
                                                      data-target="#myModalVerPedido"  
                                                      ng-click="cargarPedido(ped, 'V')">    
                                             <span class="glyphicon glyphicon-zoom-in "></span>
                                             </button>-->
                                             <button class="btn btn-danger"                                                   
                                                     ng-click="consultarEstadoPedido(ped)">    
                                              <span class="glyphicon glyphicon-pencil"></span>
                                             </button>
                                             <button class="btn  btn-info"                                                   
                                                     ng-click="imprimirBoletaBodega(ped)">    
                                              <span class="glyphicon glyphicon-print"></span>
                                             </button>  
                                              
                                           <!--   <button  class="btn btn-xs" 
                                                      data-toggle="modal"  
                                                      data-target="#myModalVerPedido"  
                                                      ng-click="cargarPedido(ped, 'V')">    
                                             <span class="glyphicon glyphicon-zoom-in "></span>
                                             </button>-->
                                              
                                              <!--<button 
                                                     ng-show="{{(!customInter && ped.anulada != 'S' && ped.tienda != '1' )}} " 
                                                     class="btn btn-xs" 
                                                     data-toggle="modal"  
                                                     data-target="#myModalTraspaso"  
                                                     ng-click="cargarPedido(ped, 'M')">    
                                              <span class="glyphicon glyphicon-paste"></span>
                                             </button> -->
                                             <button 
                                                     ng-show="{{(ped.anulada != 'S' && ped.tienda != '1' && ped.estado_pedido == '3' )}} " 
                                                     ng-click="cargarDespObsVendedor(ped)"   
                                                     class="btn btn-success" 
                                                     data-toggle="modal"  
                                                     data-target="#myModalObserPedidoFecha">
                                             <span class="glyphicon glyphicon-time"></span>
                                             </button>   
                                              
                                                
                                             <button type="submit" 
                                                     ng-show="{{customImprimirValeBodega && ped.anulada != 'S' && ped.tienda != '1'}} " 
                                                     class="btn  btn-warning" 
                                                     ng-click="imprimirBolBodega(ped)">
                                                    <span class="glyphicon glyphicon-print"></span>
                                              </button> 
                                                   
                                            
                                             <!-- <button 
                                                     ng-show="{{(customInter && ped.anulada != 'S' && ped.tienda != '1' && ped.estado_cobranza == '4' )}} " 
                                                     ng-click="cargarCobroVend(ped)"   
                                                     class="btn btn-xs" 
                                                     data-toggle="modal"  
                                                     data-target="#myModalCobroVend">
                                             <span class="glyphicon glyphicon-usd"></span>
                                             </button>   -->  
                                              
                                          </td>
                                          <td ng-show="{{!customBotton}}" ng-class="{'coral' : (ped.entregaPed == '2')}">
                                                <button  class="btn btn btn-info" 
                                                      data-toggle="modal"  
                                                      data-target="#myModalVerPedido"  
                                                      ng-click="cargarPedido(ped, 'V')">    
                                             <span class="glyphicon glyphicon-zoom-in "></span>
                                             </button>
                                         </td> 
                                          
                                      
                                   </tr>                        
                              </tbody>
            </table>


<hr>
    

<div class="modal fade miClaseModal" id="myModalVerPedidoRecibos" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h5 class="modal-title" id="myModalLabel">N° Recibo {{idPedido}} - {{nombreClie}}</h5>
      </div>
<div class="modal-body">
    
<table class="table table-striped table table-bordered " 
       style="font-size:14px" 
       at-table at-paginated at-list="list" 
       at-config="config">     
   
              
         <thead>
                    <tr>
                      <th style="text-align: center">N°Recibo</th>
                      <th style="text-align: center">F.Cobro</th>  
                        <th style="text-align: center">F.Pago</th>  
                      
                        
                      <th style="text-align: center">Total</th> 
                      <th style="text-align: center">Abono</th>  
                      <th style="text-align: center">Saldo</th>
                      <th style="text-align: center">Cobrador</th>
                        
                    </tr>
         </thead>
          <tbody>
               
            <tr data-dismiss="modal" ng-repeat="prodDet in detPedidosRecibo">    
                <td style="text-align: center">{{   prodDet.id }}</td>  
                <td style="text-align: center">{{   prodDet.fecha_cobro | date: 'dd-MM-yyyy'}}</td>
                <td style="text-align: center">{{   prodDet.nombCobro }}</td>  
                
                <td style="text-align: center">{{   prodDet.total_recibo  | number:0}}</td>
                <td style="text-align: center">{{   prodDet.abono_recibo | number:0}}</td>
                <td style="text-align: center">{{   prodDet.saldo | number:0 }}</td>
                <td style="text-align: center">{{   prodDet.nombUsuario }}</td>  

            </tr>
          </tbody>
        </table> 
     <label class="control-label" >Observacion:</label>
               <textarea class="form-control" 
                               rows="3" 
                               ng-model="observacionRecibo" 
                               id="observacionRecibo" 
                               name="observacionRecibo"
                               disabled></textarea>   

</div>
        
        
      <div class="modal-footer">
        <button type="button" class="btn btn-warning" data-dismiss="modal">
        <span class="glyphicon glyphicon-chevron-left"></span>Salir
        </button>
  </div>
    </div>
  </div>
</div>     

<div class="modal fade miClaseModal" id="myModalPedidoLog" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h5 class="modal-title" id="myModalLabel">Pedido N° {{idPedido}}</h5>
                  </div>
                <div class="modal-body">

                                
                         <table class="table table-striped table table-bordered table-hover " style="font-size:11px"  at-table at-paginated at-list="list" at-config="config">              
             <thead>
                        <tr>   
                          <th  style="text-align: center">#</th> 							                         
                          <th  style="text-align: center">Fecha</th>
                          <th  style="text-align: center">Hora</th>    
                          <th  style="text-align: center">Accion</th>     
                          <th  style="text-align: center">Usuario</th>                          
                        </tr>
             </thead>
              <tbody>
                <tr data-dismiss="modal" ng-repeat="(productIndex, prodDet) in detPedidoLog">     
                    <td style="text-align: center">{{ $index + 1 }}</td> 
                    <td  style="text-align: center">{{ prodDet.fecha_log  | date: 'dd-MM-yyyy' }}</td>    
                    <td  style="text-align: center">{{ prodDet.hora }}</td>    
                    <td  style="text-align: center">{{ prodDet.accion }}</td>
                    <td  style="text-align: center">{{ prodDet.nombre }}</td>
                  
                               

                </tr>
              </tbody>
        </table> 
                </div> 

                <div class="modal-footer">                  
                    <button type="button" class="btn btn-warning" data-dismiss="modal">
                    <span class="glyphicon glyphicon-chevron-left"></span>Salir
                    </button>
                </div>
                </div>
        </div>
</div>        
            
<div class="modal fade" id="myModalCobro" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h5 class="modal-title" id="myModalLabel">Pedido N° {{idPedido}}</h5>
                  </div>
                <div class="modal-body">

                                
                    
                                
                <div class="row">
                  <div class="col-md-12">
                  <h4><small>Cliente<hr></small></h4>
                  <div class="row">
                      <div class="col-md-6">
                          <label class="control-label" for="inputSuccess1">Rut:</label>
                          <input ng-model="rutModificar" type="text" class="form-control" id="rutModificar" name="rutModificar" disabled/>                       
                      </div>
                      <div class="col-md-6">
                          <label class="control-label" for="inputSuccess1">Razon Social:</label>
                          <input ng-model="razonMod" type="text" class="form-control" id="razonMod" name="razonMod" disabled/>
                      </div>
                    </div>
                  </div>
                </div>  
                    
                <div class="row">
                  <div class="col-md-12">
                  <h4><small>Estado Cobro:<hr></small></h4>

                  <div class="row">
                      <div class="col-md-6">
                          <label class="control-label" for="inputSuccess1">Forma de Pago:</label>            
                          <select  name="mySelectTipoCobros" 
                                 class="form-control"
                                  id="mySelectTipoCobros"
                                  ng-options="option.name for option in cobros.availableOptions track by option.id"
                                  ng-model="cobros.selectedOption">
                          </select>  
                    
                      </div>
                      <div class="col-md-6">
                               <label class="control-label" for="inputSuccess1">Fecha Pago:</label>
                              <input type="date" class="form-control" id="fechaCobro" name="fechaCobro"/>    
                      </div>
                    </div>
                             <div class="row">
                      <div class="col-md-6">
                           <label class="control-label" for="inputSuccess1">Documento:</label>
                           <input ng-model="cod_documento" type="text" class="form-control" id="cod_documento" name="cod_documento"/>
                    </div>
                      <div class="col-md-6">
                               
                      </div>
                    </div>  
                  </div>
                </div>     
                           
                <div class="row">
                  <div class="col-md-12">
                  <div class="row">
                   
                      <div class="col-md-12">
                             <label class="control-label" for="inputSuccess1">Observacion:</label>
                             <textarea class="form-control" rows="3" ng-model="observacion" id="observacion" name="observacion" ></textarea>    
                      </div>
                    </div>
                  </div>
                </div>  
                    
                    
                                 
                    

                </div> 

                <div class="modal-footer">
                    <button type="submit" class="btn btn-warning" ng-click="modificarPedidoCobro()">Guardar
                    <span class="glyphicon glyphicon-floppy-disk"></span></button>
                    <button type="button" class="btn btn-warning" data-dismiss="modal">
                    <span class="glyphicon glyphicon-chevron-left"></span>Salir
                    </button>



                </div>
                </div>
        </div>
</div> 
    

<div class="modal fade miClaseModal" id="myModalCobroPedido" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h5 class="modal-title" id="myModalLabel">Pedido N° {{idPedido}}</h5>
                  </div>
                <div class="modal-body">

                                
                    
                                
                <div class="row">
                  <div class="col-md-12">
                  <h4><small>Cliente<hr></small></h4>
                  <div class="row">
                      <div class="col-md-6">
                          <label class="control-label" for="inputSuccess1">Rut:</label>
                          <input ng-model="rutModificar" type="text" class="form-control" id="rutModificar" name="rutModificar" disabled/>                       
                      </div>
                      <div class="col-md-6">
                          <label class="control-label" for="inputSuccess1">Razon Social:</label>
                          <input ng-model="razonMod" type="text" class="form-control" id="razonMod" name="razonMod" disabled/>
                      </div>
                    </div>
                  </div>
                </div>  
                    
                <div class="row">
                  <div class="col-md-12">
                  <h4><small>Estado Pedido:<hr></small></h4>

                  <div class="row">
                      <div class="col-md-12">
                            <label class="control-label" for="inputSuccess1"></label>            
                           <select  name="mySelectEstadoPedido" 
                             class="form-control"
                             id="mySelectEstadoPedido"
                             ng-options="option.name for option in estadoPedido.availableOptions track by option.id"
                              ng-model="estadoPedido.selectedOption"></select>  
                      </div>
                    </div>
                           
                  </div>
                </div>     
                           
                <div class="row">
                  <div class="col-md-12">
                  <div class="row">
                   
                      <div class="col-md-12">
                             <label class="control-label" for="inputSuccess1">Observacion:</label>
                             <textarea class="form-control" rows="3" ng-model="observacion" id="observacion" name="observacion" ></textarea>    
                      </div>
                    </div>
                  </div>
                </div>  
                    
                    
                                 
                    

                </div> 

                <div class="modal-footer">
                    <button type="submit" class="btn btn-warning" ng-click="modificarPedidoEstado()">Guardar
                    <span class="glyphicon glyphicon-floppy-disk"></span></button>
                    <button type="button" class="btn btn-warning" data-dismiss="modal">
                    <span class="glyphicon glyphicon-chevron-left"></span>Salir
                    </button>



                </div>
                </div>
        </div>
</div> 
    

   
<div class="modal fade" id="myModaDetalle" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h5 class="modal-title" id="myModalLabel">Ventas N° {{idVenta}}</h5>
      </div>
<div class="modal-body">

<table class="table table-striped table table-bordered" 
       style="font-size:14px"  
       at-table at-paginated at-list="list" at-config="config">     
         <thead>
                    <tr>
                      <th style="text-align: center">FOTO</th>
                      <th  style="text-align: center">#</th>                      
                      <th style="text-align: center">ID</th>
                      <th style="text-align: center">NOMBRE</th>
                      <th style="text-align: center">VALOR</th>  
                      <th style="text-align: center">CANT</th>       
                      <th style="text-align: center">TOTAL</th>                     
                    </tr>
         </thead>
          <tbody>               
            <tr data-dismiss="modal" ng-repeat="prodDet in detalleVentas"> 
                <td style="text-align: center"> 
                    <img  ng-src="{{prodDet.foto}}"
                               onerror="this.src='https://aranibar.cl/barrosaranas/Table/img/sinImagen.png';"
                              class='eye'
                              width="100"   
                              height="100"></td>
                <td style="text-align: center">{{ $index + 1 }}</td>    
                <td>{{ prodDet.id_prod }}</td>    
                <td>{{ prodDet.nombreProd }}</td>
                <td>$ {{ prodDet.precio_vendido | number:0  }}</td> 
                <td>{{ prodDet.cantidad }}</td> 
                <td>$ {{ prodDet.total | number:0  }}</td>  

            </tr>
          </tbody>
       <tfoot>
                                <tr>
                                    <td colspan="6">
                                        <blockquote class="blockquote-reverse">
                                            DESCUENTO: $ {{ pedidoDescuento | number:0 }}
                                        </blockquote>
                                        <blockquote class="blockquote-reverse">
                                           TOTAL: $ {{ getTotal() | number:0 }}
                                        </blockquote>
                                    </td>
                                    
                                        <td colspan="6">
                                      <img  ng-src="{{prodDet.timbElec}}"
                                            onerror="this.src='https://aranibar.cl/barrosaranas/Table/img/sinImagen.png';"
                                            class='eye'
                                            width="100"   
                                            height="100">
                                    </td>
                                </tr>
           
      </tfoot>  
</table>      
 

</div>
        
      <div class="modal-footer">
              <button type="button" 
                      ng-click="imprimirBoletaDeVentas()"
                      class="btn btn-info">
            <span class="glyphicon glyphicon-print"></span> Imprimir Boleta
        </button>  
          
          
        <button type="button" 
                class="btn btn-warning" 
                data-dismiss="modal">
        <span class="glyphicon glyphicon-chevron-left"></span>Salir
        </button>
      </div>
    </div>
  </div>
</div>
    
  <div class="modal fade" id="myModalObserPedidoAnular" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog modal-sm" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="myModalLabel">Pedido N° {{idPedido}}</h5>
                  </div>
                <div class="modal-body">    
                     <form role="form">
                              <div class="form-group">
                                        <label for="ejemplo_password_1">Motivo de la Anulacion:</label>
                                           <textarea class="form-control" 
                                                      rows="3" 
                                                   ng-model="observacionVendAnular" 
                                                   id="observacionVendAnular" 
                                                   name="observacionVendAnular">
                                         </textarea>               
                               </div>  
                        </form>                 
                </div> 
                <div class="modal-footer">
                    <button type="submit" 
                            class="btn btn-primary" 
                            ng-click="confirmarAnularPedido()">Aceptar
                    <span class="glyphicon glyphicon-floppy-disk"></span></button>
                    <button type="button" 
                            class="btn btn-dark" 
                            data-dismiss="modal">
                    <span class="glyphicon glyphicon-chevron-left"></span>Salir
                    </button>
                </div>
                </div>
        </div>
</div>    
    
<div class="modal fade" id="myModalTotal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h5 class="modal-title" id="myModalLabel" style="color:#354d8f; font-weight: bold;">CIERRE LA CAJA</h5>
                  </div>
                <div class="modal-body">
                           
                <div class="row">
                  <div class="col-md-12">                  
                  <div class="row">
                      <div class="col-md-6">
                            <label class="control-label" for="inputSuccess1">Cierre de caja:  {{fechaActualVenta | date: 'dd-MM-yyyy'}}</label>
                      </div>
           
                      
                      
                      
                    </div>
                  </div>
        
                </div>  
                    
                              
                    <div class="panel-heading" style="color:#354d8f; font-weight: bold;">Arqueo de caja:</div>                           
                    <label class="control-label" for="inputSuccess1">Efectivo:  $ {{ getTotalEfectivo() | number:0 }}</label>
 
                
                      <div class="panel-heading" style="color:#354d8f; font-weight: bold;">Ventas:</div>                                            
                    <label class="control-label" for="inputSuccess1">Efectivo:  $ {{ getTotalEfectivo() | number:0 }}</label>
                     </br>
                    <label class="control-label" for="inputSuccess1">Debito:  $ {{ getTotalDebito() | number:0 }}</label>
                     </br>
                    <label class="control-label" for="inputSuccess1">Transferencia:  $ {{ getTotalTransferencia() | number:0 }}</label>
                     </br>
                    <label class="control-label" for="inputSuccess1">Total:  $ {{ getTotalVentasDiarias() | number:0 }}</label>
                      </br>
                      </br>
                    <label class="control-label" for="inputSuccess1">Total Descuento:  $ {{ getTotalDescuentos() | number:0 }}</label>
                    
            </div> 

                <div class="modal-footer">
                    <button type="submit" class="btn btn-success" ng-click="confirmarFinCaja()"><span class="glyphicon glyphicon-floppy-disk"></span> CERRAR CAJA
                    </button>
                    <button type="button" class="btn btn-warning" data-dismiss="modal">
                    <span class="glyphicon glyphicon-chevron-left"></span> Salir
                    </button>
                </div>
                </div>
        </div>
</div>    
    
    
    

        
<div class="modal fade miClaseModal" id="myModalObserPedidoFecha" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="myModalLabel">Pedido N° {{idPedido}} - {{nombreCliente}}</h5>
                  </div>
                <div class="modal-body">    
                     <form role="form">
						          
                                      <div class="form-group">
                                        <label for="ejemplo_email_1">Despacho:</label>
                                        <input type="date" 
                                                 class="form-control" 
                                                 placeholder="yyyy-MM-dd" 
                                                 id="fechaDespacho" 
                                                 name="fechaDespacho"/>
										    <div class="form-group">
											  <div class="btn-group" data-toggle="buttons">    
												  <label class="btn btn-danger btn-sm" 
														  ng-click="setTransactionJornada('1')"
														 ng-class="{active: test.currentValJornada == '1'}">
														<input type="radio" 
															   ng-model="test.currentValJornada"  
															   value="1"> Mañana
												  </label>
											  <label class="btn btn-danger btn-sm" 
													  ng-click="setTransactionJornada('2')"
													 ng-class="{active: test.currentValJornada == '2'}">
												<input type="radio" 
													   ng-model="test.currentValJornada"  
													   value="2"> Tarde
											  </label>
											  </div> 
                                                
                                             
                                                
									      </div>   	    
                                      </div>
                                         <div class="form-group">
                                        <label for="ejemplo_password_1">Entrega:</label>
                                              <div class="form-group">
                                             <div class="btn-group" data-toggle="buttons">    
												  <label class="btn btn-warning btn-sm" 
														  ng-click="selTipoEnt('1')"
														 ng-class="{active: test.entregaPed == '1'}">
														<input type="radio" 
															   ng-model="test.entregaPed"  
															   value="1"> Transporte
												  </label>
											  <label class="btn btn-warning btn-sm" 
													  ng-click="selTipoEnt('2')"
													 ng-class="{active: test.entregaPed == '2'}">
												<input type="radio" 
													   ng-model="test.entregaPed"  
													   value="2"> Retiro En Tienda
											  </label>
											  </div>    
                                                    </div> 
                                      </div>  
                         
                                      <div class="form-group">
                                        <label for="ejemplo_password_1">Observacion:</label>
                                           <textarea class="form-control" 
                                                   rows="3" 
                                                   ng-model="observacionVend" 
                                                   id="observacionVend" 
                                                   name="observacion">
                                         </textarea>               
                                      </div>                
                        </form>                 
                </div> 
                <div class="modal-footer">
                    <button type="submit" 
                            class="btn btn-warning" 
                            ng-click="modDespachoObser()">Guardar
                    <span class="glyphicon glyphicon-floppy-disk"></span></button>
                    <button type="button" 
                            class="btn btn-warning" 
                            data-dismiss="modal">
                    <span class="glyphicon glyphicon-chevron-left"></span>Salir
                    </button>
                </div>
                </div>
        </div>
  </div> 
    
    
</div>    
  


</div>


<div class="panel panel-default" id="divCierreCaja" style="display: none;">
  <div class="panel-heading">
   <h3 class="modal-title"><p style="color:#354d8f; font-weight: bold;">Cierre de Caja</p></h3>
  </div>
  <div class="panel-body">

    <table class="table table-striped table table-bordered table-hover"
                style="font-size:15px" 
                at-table at-paginated at-list="list" 
                at-config="config">       
                
      <thead>
        <tr>
          <td colspan="4"><h3>CAJA</h3></td>
        </tr>
        <tr>
          <th>RENDICIÓN</th>
          <th>EFECTIVO</th>
          <th>DÉBITO</th>
          <th>TRANSF.</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Caja Chica</td>
          <td style="text-align: right;"><input style="text-align: right;" type="number" class="form-control" ng-model="caja_chica"></td>
          <td style="text-align: right;">$0</td>
          <td style="text-align: right;">$0</td>
        </tr>
        <tr>
          <td>Total Ventas</td>
          <td style="text-align: right;">${{ getTotalEfectivo() | number:0 }}</td>
          <td style="text-align: right;">${{ getTotalDebito() | number:0 }}</td>
          <td style="text-align: right;">${{ getTotalTransferencia() | number:0 }}</td>
        </tr>
        <tr>
          <td colspan="4"><h3>RETIRO EN TIENDA</h3></td>
        </tr>
        <tr ng-repeat="ped in pedidosCierre">
          <td><button class="btn btn-danger" ng-click="eliminaRetiroCierre(ped)"> <i class="fa fa-trash"></i></button> {{ped.id_pedido}} - {{ped.pedido.nombre}}</td>
          <td style="text-align: right;">${{ped.efectivo | number:0}}</td>
          <td style="text-align: right;">${{ped.debito | number:0}}</td>
          <td style="text-align: right;">${{ped.transferencia | number:0}}</td>
        </tr>
        <tr>
          <td colspan="4" style="text-align: right;">
            <button type="button" class="btn btn-success" data-toggle="modal" data-target="#myModalBuscaPedido">Buscar Retiro</button>
          </td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <th style="text-align: right;">TOTAL RETIRO</th>
          <td style="text-align: right;">${{ getTotalRetiroEfectivo() | number:0}}</td>
          <td style="text-align: right;">${{ getTotalRetiroDebito() | number:0}}</td>
          <td style="text-align: right;">${{ getTotalRetiroTransferencia() | number:0}}</td>
        </tr>
                  <tr>
          <th style="text-align: right;">TOTAL GENERAL</th>
          <td style="text-align: right;">${{ getTotalRetiroEfectivo() + getTotalEfectivo() -  getTotalDescuentosCierre() | number:0}}</td>
          <td style="text-align: right;">${{ getTotalRetiroDebito() + getTotalDebito() | number:0}}</td>
          <td style="text-align: right;">${{ getTotalRetiroTransferencia() +  getTotalTransferencia()| number:0}}</td>
        </tr>
      </tfoot>
        
      
        
    </table>

    <table class="table table-striped table table-bordered table-hover"
                style="font-size:15px" 
                at-table at-paginated at-list="list" 
                at-config="config">       
                
      <thead>
        <tr>
          <td colspan="3"><h3>DESCUENTOS</h3></td>
        </tr>
        <tr>
          <th></th>
          <th>DESCUENTO</th>
          <th>EFECTIVO</th>
        </tr>
      </thead>
      <tbody>
        <tr ng-repeat="dc in descuentosCierre">
          <td>
            <button class="btn btn-danger" ng-click="eliminaDescuento(dc)"> <i class="fa fa-trash"></i></button>
          </td>
          <td>
            <select class="form-control" ng-model="dc.descuento">
              <option value="" disabled>Selecione un Descuento</option>
              <option value="{{desc.id}}" ng-repeat="desc in descuentos">{{desc.nombre}}</option>
            </select>
          </td>
          <td style="text-align: right;"><input style="text-align: right;" type="number" class="form-control" ng-model="dc.monto"></td>
        </tr>
        <tr>
          <td colspan="3" style="text-align: right;">
            <button type="button" class="btn btn-success" ng-click="agregaDescuentoCierre()">Agregar Descuento</button>
          </td>
        </tr>
      </tbody>
      <tfoot>
        <tr>
          <th style="text-align: right;">TOTAL DESCUENTO</th>
          <td style="text-align: right;" colspan="2">${{ getTotalDescuentosCierre() | number:0 }}</td>
        </tr>
      </tfoot>
    </table>
  </div>
  
  <div class="panel-footer">
    <table class="mt-5 table table-striped table table-bordered table-hover"
                style="font-size:15px" 
                at-table at-paginated at-list="list" 
                at-config="config">       
                
      <thead>
        <tr>
          <th><h3>SALDO FINAL</h3></th>
          <td style="text-align: right;"><h3>${{ getTotalFinal()  | number: 0}}</h3></td>
        </tr>
      </thead>
    </table>
  </div>
  
  <div class="panel-footer" style="text-align: center;">
      <p style="color:#354d8f; font-size:30px";>Observacion Informe:</p>
       <textarea class="form-control" rows="15" ng-model="obserCaja" id="obserCaja" name="obserCaja" ></textarea>      
    <button type="button" class="btn btn-success" ng-click="guardaCierreCaja()">GUARDAR CIERRE CAJA</button>
  </div>

  

</div>


 <div class="modal fade miClaseModal" id="myModalTransfImagen" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h5 class="modal-title" id="myModalLabel">N°Pedido {{idPedido}} - {{nombPedido}} </h5>
                  </div>
                <div class="modal-body">

                <div class="row">
                      <div class="col-md-12">
                      <div class="row">
                                <label class="control-label" for="fotos">Foto:</label>
                                <input id="fotos" 
                                        ng-show="estImgTranf != '1'"
                                       type = "file" 
                                       class="form-control" 
                                       file-input="fotos" 
                                       accept="image/*"/>   
                          
                                  <span class="fa fa-paperclip" 
                                        ng-show="estImgTranf == '1'"
                                        data-toggle="modal"  
                                        data-target="#myImageModal"
                                        ng-click="mostrarImagenTransfAdj()"
                                        style="font-size:25px;color:GREEN;"></span>
                      </div>
                      </div>
                </div>  
                    

                </div> 

                <div class="modal-footer">
                    <button type="submit" class="btn btn-danger" ng-click="borrarImagenTransf()">Borrar</button>
                    <button type="submit" class="btn btn-warning" ng-click="guadarProductoFotos()">Guardar
                    <span class="glyphicon glyphicon-floppy-disk"></span></button>
                    <button type="button" class="btn btn-warning" data-dismiss="modal">
                    <span class="glyphicon glyphicon-chevron-left"></span>Salir
                    </button>
                </div>
                </div>
        </div>
</div> 


<div class="panel panel-default" id="divPedido">
    
      <div class="modal-header">
                    <h5 class="modal-title" id="myModalLabel">Pedido N° {{idPedido}}</h5>
      </div>
    
    
      <div class="modal-body">

        <div class="container">
        <form  name="prodFormMof">
        <div class="form-group col-md-3 row">
          <label class="control-label" 
                 for="inputSuccess1">Rut:</label>
          <input ng-model="rutModificar" 
                 type="text" 
                 class="form-control input-xs" 
                 id="rutModificar" 
                 name="rutModificar">
            
          <label class="control-label" 
                 for="inputSuccess1">Direccion:</label>
          <input ng-model="direccionMod"   
                 type="text" 
                 class="form-control input-xs" 
                 id="direccionMod" 
                 name="direccionMod">
        </div>
        <div class="form-group col-md-3 row">
             <label class="control-label" for="inputSuccess1">Razon Social:</label>
             <input ng-model="razonMod" type="text" class="form-control input-xs" id="razonMod" name="razonMod" >
             <label class="control-label" for="inputSuccess1">Giro:</label>
             <input ng-model="giroMod" type="text" class="form-control input-xs" id="giroMod" name="giroMod" >

        </div>
        </form>

        </div>   
        <!--<div class="child" ng-hide="stadoPed">
                           <input  id="codProducto" 
                                   name="codProducto"
                                   ng-model="idProducto">  
                                   <button class="btn btn-default  btn-s" 
                                        ng-click="buscarProd()"
                                        type="button">   
                        <span class="glyphicon glyphicon-plus"></span></button></div>  -->
          
        <table class="table table-striped table table-bordered table-hover " style="font-size:11px"  at-table at-paginated at-list="list" at-config="config">              
             <thead>
                        <tr>   
                          <th  style="text-align: center">#</th> 							
                          <th>Id</th>
                          <th>Nombre</th>
                          <th>Aumento</th>     
                          <th>Descuento</th>    
                          <th>P.Venta</th>  
                          <th>Cant</th>                      
                          <th>Total</th>
                           <th ng-hide="stadoPed">Accion</th>                            
                        </tr>
             </thead>
              <tbody>
                <tr data-dismiss="modal" ng-repeat="(productIndex, prodDet) in detPedido">     
                    <td ng-class="{'Bisque' : (prodDet.prod_venta_act == '1') , 'Bisque2' : (prodDet.prod_venta_act == '2'), 'Bisque3' : (prodDet.prod_venta_act == '3'), 'Bisque4' : (prodDet.prod_venta_act == '4'), 'Bisque5' : (prodDet.prod_venta_act == '5'), 'Bisque6' : (prodDet.prod_venta_act == '6')}" style="text-align: center">{{ $index + 1 }}</td> 
                    <td ng-class="{'Bisque' : (prodDet.prod_venta_act == '1') , 'Bisque2' : (prodDet.prod_venta_act == '2'), 'Bisque3' : (prodDet.prod_venta_act == '3'), 'Bisque4' : (prodDet.prod_venta_act == '4'), 'Bisque5' : (prodDet.prod_venta_act == '5'), 'Bisque6' : (prodDet.prod_venta_act == '6')}">{{ prodDet.id_prod }}</td>    
                    <td ng-class="{'Bisque' : (prodDet.prod_venta_act == '1') , 'Bisque2' : (prodDet.prod_venta_act == '2'), 'Bisque3' : (prodDet.prod_venta_act == '3'), 'Bisque4' : (prodDet.prod_venta_act == '4'), 'Bisque5' : (prodDet.prod_venta_act == '5'), 'Bisque6' : (prodDet.prod_venta_act == '6')}">{{ prodDet.nombreProd }}</td>
                    <td class="text-primary"><strong>$ {{ prodDet.aumento | number:0 }}</strong></td>  
                    <td class="text-danger"><strong>$ {{ prodDet.descuento | number:0   }}</strong></td>  
                    <td class="text-primary"><strong>$ {{ prodDet.precio_vendido | number:0 }}</strong></td>  
                    <td class="text-success"><strong>{{ prodDet.cantidad  }}</strong></td>
                    <td>$ {{ prodDet.total | number:0  }}</td>  
                     <td ng-hide="stadoPed">                
                        
                       <!--<button  class="btn btn-xs" 
                                 data-toggle="modal"  
                                 data-target="#myModalModProd"  
                                 ng-click="modificarProdPrecio(prodDet)">    
                                <span class="glyphicon glyphicon-pencil"></span>
                        </button>-->
                         <button class="btn btn-xs" data-toggle="modal"  ng-click="deleteProdListadoConf(prodDet, productIndex )">    
                        <span class="glyphicon glyphicon-remove "></span></button>
                      </td>                    

                </tr>
              </tbody>
        </table> 
        <div ng-hide="detPedido.length !=0">Cargando...</div> 
         <hr>
              <tr>
                  <!--   <td>Total Cantidad: {{ getTotalPedidoCantidad() }}</td><br><br>-->
                  <td>Neto: $ {{ getNeto() | number:0 }}</td><br>
                  <td>19% I.V.A.: $ {{ getIva() | number:0 }}</td> <br>
                  <td>Total: $ {{ getTotalPedido() | number:0 }}</td>                     
               </tr>

        </div> 
        
       
            <div class="modal-footer">
            <button 
                    ng-hide="stadoPed" 
                    ng-click = "anularPedidoRetiroEntienda()"
                    class="btn btn-danger">Anular
            <span class="glyphicon glyphicon-erase"></span></button>  
                
                
            <button type="submit" ng-hide="btnGenerarFactura"  ng-if="mostBotBol" class="btn btn-success" ng-click="conultarNuboxFolioBoleta()">Generar Boleta Electronica
            <span class="glyphicon glyphicon-barcode"></span></button>    
                
            <button type="submit" ng-hide="btnGenerarFactura"  ng-if="mostBotFact" class="btn btn-success" ng-click="conultarNuboxFolioFactura()">Generar Factura Electronica
            <span class="glyphicon glyphicon-barcode"></span></button>

              <!--<button type="submit" ng-hide="stadoPed" class="btn btn-warning" ng-click="modificarPedido()">Guardar
            <span class="glyphicon glyphicon-floppy-disk"></span></button>-->

           <!-- <button type="submit" class="btn btn-info"  ng-if="!mostBotFact" ng-click="generarNotaPedido('n')">Generar PDF
            <span class="glyphicon glyphicon-save-file"></span></button>-->

            <button type="button" class="btn btn-warning" ng-click="verDetallePedidoSalir()">
            <span class="glyphicon glyphicon-chevron-left"></span>Salir
            </button>



        </div>
    
    <div class="modal fade" id="myModalObserPedidoAnularDespacho" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog modal-sm" role="document">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="myModalLabel">Pedido N° {{idPedido}}</h5>
                  </div>
                <div class="modal-body">    
                     <form role="form">
                              <div class="form-group">
                                        <label for="ejemplo_password_1">Motivo de la Anulacion:</label>
                                           <textarea class="form-control" 
                                                      rows="3" 
                                                   ng-model="observacionVendAnular" 
                                                   id="observacionVendAnular" 
                                                   name="observacionVendAnular">
                                         </textarea>               
                               </div>  
                        </form>                 
                </div> 
                <div class="modal-footer">
                    <button type="submit" 
                            class="btn btn-warning" 
                            ng-click="confirmarAnularPedidoDespacho()">Aceptar
                    <span class="glyphicon glyphicon-floppy-disk"></span></button>
                    <button type="button" 
                            class="btn btn-warning" 
                            data-dismiss="modal">
                    <span class="glyphicon glyphicon-chevron-left"></span>Salir
                    </button>
                </div>
                </div>
        </div>
    </div>  
</div> 

<div class="modal fade miClaseModal" 
     id="myModalJoinPedido" 
     tabindex="-1" 
     role="dialog" 
     aria-labelledby="myModalLabel">
  <div class="modal-dialog" 
       role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" 
                class="close" 
                data-dismiss="modal" 
                aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h5 class="modal-title" id="myModalLabel">Listado de Productos</h5>
      </div>
<div class="modal-body">


<div class="child"><h5>Total de {{unirPedidos.length}} productos.</h5></div>     
<table class="table table-striped table table-bordered table-hover " 
       style="font-size:11px"  
       at-table at-paginated at-list="list" 
       at-config="config">              
         <thead>
                    <tr>                        
                      <th>Id</th>
                      <th>Nombre</th>
                      <th>Cantidad</th>                      
                    </tr>
         </thead>
          <tbody>
            <tr data-dismiss="modal" 
                ng-repeat="prodDet in unirPedidos">     
                <td>{{ prodDet.id_prod }}</td>    
                <td>{{ prodDet.nombreProd }}</td>
                <td>{{ prodDet.cantidad  }}</td>   

            </tr>
          </tbody>
</table>      
     <hr>

         
</div> 
        
        <div class="modal-footer">
                <button type="submit" 
                        class="btn btn-info"  
                        ng-click="confirmarPedidoSalida()">Generar PDF<span class="glyphicon glyphicon-save-file"></span>
                </button>
            
            
               <button type="submit" 
                        class="btn btn-info"  
                        ng-click="imprimirResumenSalidaTienda()">IMPRIMIR<span class="glyphicon glyphicon-save-file"></span>
                </button>
            

                <button type="button" 
                        class="btn btn-warning" 
                        data-dismiss="modal">
                <span class="glyphicon glyphicon-chevron-left"></span>Salir</button>
        </div>
  </div>
 </div>
</div>  

<div class="modal fade miClaseModal" id="myModalBuscaPedido" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
          <div class="modal-content">
            <div class="modal-header">
              <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
              <h5 class="modal-title" id="myModalLabel">Agregar Pedido a Cierre de Caja </h5>
            </div>
          <div class="modal-body">

          <div class="row">
            <div class="col-md-12">
              <table class="table table-striped table table-bordered table-hover " 
                style="font-size:11px"  
                at-table at-paginated at-list="list" 
                at-config="config"> 
                <thead>
                  <tr>                        
                    <th>Id</th>
                    <th>Cliente</th>
                    <th>Tipo Pago</th>
                    <th>Monto</th>
                    <th></th>                  
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="ped in listPedidos" ng-if="!isPedidoInCierre(ped.id_pedido)">
                    <td>{{ped.id_pedido}}</td>
                    <td>{{ped.nombre}}</td>
                    <td>{{ped.nombre_cobro}}</td>
                    <td>{{ped.totalPedido}}</td>
                    <td>
                      <button type="button" class="btn btn-success" ng-click="agregaPedidoCierre(ped)">Agregar a Cierre</button>
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
                
          </div>  
              

          </div> 

          <div class="modal-footer">
              <button type="button" class="btn btn-warning" data-dismiss="modal">
              <span class="glyphicon glyphicon-chevron-left"></span>Salir
              </button>
          </div>
          </div>
  </div>
</div> 